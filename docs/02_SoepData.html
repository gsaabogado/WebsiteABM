<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>The ABM Model of Technology Adoption (ABM-REN) - German Socio-Economic Panel Study (SOEP)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">The ABM Model of Technology Adoption (ABM-REN)</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./01_about.html" aria-current="page">Home</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/gsaabogado"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/gsaabogado"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://luissarmiento.net/">Personal Site</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">German Socio-Economic Panel Study (SOEP)</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Sections</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_about.html" class="sidebar-item-text sidebar-link">About</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_SoepData.html" class="sidebar-item-text sidebar-link active">German Socio-Economic Panel Study (SOEP)</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#personal-equivalent-data-file" id="toc-personal-equivalent-data-file" class="nav-link" data-scroll-target="#personal-equivalent-data-file">Personal Equivalent Data File</a></li>
  <li><a href="#household-generated-variables-file-hgen" id="toc-household-generated-variables-file-hgen" class="nav-link" data-scroll-target="#household-generated-variables-file-hgen">Household Generated Variables File (HGEN)</a></li>
  <li><a href="#final-individual-soep-data" id="toc-final-individual-soep-data" class="nav-link" data-scroll-target="#final-individual-soep-data">Final (individual) SOEP data</a></li>
  <li><a href="#estimating-the-distribution-of-power-costs-by-income-decile" id="toc-estimating-the-distribution-of-power-costs-by-income-decile" class="nav-link" data-scroll-target="#estimating-the-distribution-of-power-costs-by-income-decile">Estimating the distribution of power costs by income decile</a></li>
  <li><a href="#variables-glossary" id="toc-variables-glossary" class="nav-link" data-scroll-target="#variables-glossary">Variables Glossary</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">German Socio-Economic Panel Study (SOEP)</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Most of the data we use to feed our model comes from the German Socio-Economic Panel Study (SOEP). The SOEP is a representative longitudinal panel study that started in West Germany in 1984. The current version of the survey contains a large set of socio-demographic and economic characteristics of German households.</p>
<p>The SOEP is divided into different data files each containing different questionnaires – in this model, we use data from SOEP-37.</p>
<p>The main questionnaires we use for the construction of the model are:</p>
<div class="incremental">
<ul class="incremental">
<li>PEQUIV - Personal Equivalent File <span class="math inline">\(\rightarrow\)</span> (<a href="https://www.diw.de/de/diw_01.c.839052.de/s_13585.html">Documentation</a>)</li>
<li>HGEN - Household Generated Data File <span class="math inline">\(\rightarrow\)</span> (<a href="https://www.diw.de/documents/publikationen/73/diw_01.c.676077.de/diw_ssp0759.pdf">Documentation</a>)</li>
<li>HWEALTH - Household Wealth Questionaire</li>
<li>HCONSUM - Household Consumption Module</li>
</ul>
</div>
<section id="personal-equivalent-data-file" class="level2">
<h2 class="anchored" data-anchor-id="personal-equivalent-data-file">Personal Equivalent Data File</h2>
<div class="cell">

</div>
<p>All of our variables are loded in one of two R formats; numeric or haven-labeled. Haven labeled format is similar to STATA (or SPSS) labeled data (For more information we refer the reader to the <a href="https://haven.tidyverse.org/articles/semantics.html">online vignete of the haven package</a>).</p>
<p>The R-labeled class (part of the haven package) allows us to associate arbitrary labels to numeric or character vectors. Note that the goal of labeled files is only to include the description of categorical vectors in the SOEP data. For instance, when printing one labeled variable, the output consists of a vector of values alongside a data frame linking values and labels. It is essential to clarify that researchers must transform haven-labeled data formats into numeric or factor variables before using them in econometric, machine learning, or optimization models. Still, we keep the haven-labeled format in the raw files as it allows researchers to directly understand the values related to each numeric identifier of categorical variables in the SOEP data.</p>
<p>As an example, we show the gender column in the <strong>pequiv</strong> file. The variable contains a title identifier <em>Gender of Individual</em> alongside a vector of numeric values (i.e., 2,1,2,1,1,2), and the data frame linking values to labels.</p>
<div class="cell">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the data set</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pequiv<span class="sc">$</span>sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;labelled&lt;double&gt;[6]&gt;: Gender of Individual
[1] 2 1 2 1 1 2

Labels:
 value                                                 label
    -6 [-6] Fragebogenversion mit geaenderter Filterfuehrung
    -5             [-5] In Fragebogenversion nicht enthalten
    -4                     [-4] Unzulaessige Mehrfachantwort
    -3                                     [-3] nicht valide
    -2                                  [-2] trifft nicht zu
    -1                                     [-1] keine Angabe
     1                                            [1] Male 1
     2                                          [2] Female 2</code></pre>
</div>
</div>
<p><a href="#tbl-PequivIndividual">Table&nbsp;1</a> shows a sample of individual-level characteristics we extract from the PEQUIV file. It consists of 19 variables and 547704 observations between 2005 and 2018. Each variable is either in a numeric or haven-labeled format. The data frame contains the individual and household IDs (<em>pid</em> and <em>hid</em>) alongside the year of the interview (year). <em>head</em> is an indicator variable on the relationship between <em>pid</em> and the household head (1 = head, 2 = partner, 3 = child, 4 = relative, and 5 = non-relative). <em>age</em> is the average age of <em>pid</em>, <em>sex</em> its gender (1 - Male; 2- Female), and <em>education</em> the total years of education.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Individual</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Spatial</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Employment</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Household</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell tbl-cap-location-top">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the data set</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">select</span>(pequiv, pid, hid, year, head, sex, age, education) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">"Cambria"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_option =</span> <span class="fu">c</span>(<span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-PequivIndividual" class="anchored">

<table class=" lightable-classic table table-hover" style="font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"><caption>Table 1:  Individual characteristics from the PEQUIV file </caption>
 <thead>
  <tr>
   <th style="text-align:right;"> pid </th>
   <th style="text-align:right;"> hid </th>
   <th style="text-align:right;"> year </th>
   <th style="text-align:right;"> head </th>
   <th style="text-align:right;"> sex </th>
   <th style="text-align:right;"> age </th>
   <th style="text-align:right;"> education </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 79 </td>
   <td style="text-align:right;"> 10.5 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 45 </td>
   <td style="text-align:right;"> 18.0 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 602 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 47 </td>
   <td style="text-align:right;"> 18.0 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 603 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 59 </td>
   <td style="text-align:right;"> -2.0 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 604 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 15 </td>
   <td style="text-align:right;"> -1.0 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 605 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:right;"> -1.0 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell tbl-cap-location-top">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the data set</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">select</span>(pequiv, pid, hid, year, state, region) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">"Cambria"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_option =</span> <span class="fu">c</span>(<span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-PequivSpatial" class="anchored">

<table class=" lightable-classic table table-hover" style="font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"><caption>Table 2:  Spatial variables from the PEQUIV file </caption>
 <thead>
  <tr>
   <th style="text-align:right;"> pid </th>
   <th style="text-align:right;"> hid </th>
   <th style="text-align:right;"> year </th>
   <th style="text-align:right;"> state </th>
   <th style="text-align:right;"> region </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 602 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 603 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 604 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 605 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell tbl-cap-location-top">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the data set</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">select</span>(pequiv, pid, hid, year, employment, occupation, industry1) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">"Cambria"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_option =</span> <span class="fu">c</span>(<span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-PequivEmployment" class="anchored">

<table class=" lightable-classic table table-hover" style="font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"><caption>Table 3:  Employment variables from the PEQUIV file </caption>
 <thead>
  <tr>
   <th style="text-align:right;"> pid </th>
   <th style="text-align:right;"> hid </th>
   <th style="text-align:right;"> year </th>
   <th style="text-align:right;"> employment </th>
   <th style="text-align:right;"> occupation </th>
   <th style="text-align:right;"> industry1 </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 2131 </td>
   <td style="text-align:right;"> 9 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 602 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2331 </td>
   <td style="text-align:right;"> 9 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 603 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> -2 </td>
   <td style="text-align:right;"> -2 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 604 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> -1 </td>
   <td style="text-align:right;"> -2 </td>
   <td style="text-align:right;"> -1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 605 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> -1 </td>
   <td style="text-align:right;"> -2 </td>
   <td style="text-align:right;"> -1 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="cell tbl-cap-location-top">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the data set</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">select</span>(pequiv, pid, hid, year, Npersons, Nkids, income, GrossIncome) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">"Cambria"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_option =</span> <span class="fu">c</span>(<span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-PequivHH" class="anchored">

<table class=" lightable-classic table table-hover" style="font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"><caption>Table 4:  Household variables from the PEQUIV file </caption>
 <thead>
  <tr>
   <th style="text-align:right;"> pid </th>
   <th style="text-align:right;"> hid </th>
   <th style="text-align:right;"> year </th>
   <th style="text-align:right;"> Npersons </th>
   <th style="text-align:right;"> Nkids </th>
   <th style="text-align:right;"> income </th>
   <th style="text-align:right;"> GrossIncome </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 7648 </td>
   <td style="text-align:right;"> 209 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 18800 </td>
   <td style="text-align:right;"> 7550 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 602 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 47146 </td>
   <td style="text-align:right;"> 68521 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 603 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 47146 </td>
   <td style="text-align:right;"> 68521 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 604 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 47146 </td>
   <td style="text-align:right;"> 68521 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 605 </td>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 47146 </td>
   <td style="text-align:right;"> 68521 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
</div>
<p><a href="#tbl-PequivSpatial">Table&nbsp;2</a> includes data on the spatial location of the household. Because we are working with the open version of the SOEP, we can only identify the <em>state</em> and <em>region</em> where the household is located. Next, <a href="#tbl-PequivEmployment">Table&nbsp;3</a> contains employment-related covariates. <em>employment</em> is a dummy variable equal to one if the person is currently employed. <em>occupation</em> is the person’s occupation according to the International Classification of Occupations Code (ISCO). For instance, code 5160 refers to protective service workers. <em>industry1</em> is a two-digit industry code based on ten categories (1 – Agriculture, 2 – Energy, 3 – Mining, 4 – Manufacturing, 5 – Construction, 6 – Trade, 7 – Transport, 8 – Bank and Insurance, 9 – Services). Finally, <a href="#tbl-PequivHH">Table&nbsp;4</a> includes a set of household-level controls we extract from the PEQUIV file. <em>Npersons</em> and <em>Nkids</em> are the number of persons and kids in the household, while <em>income</em> and <em>GrossIncome</em> are the household net and gross incomes.</p>
</section>
<section id="household-generated-variables-file-hgen" class="level2">
<h2 class="anchored" data-anchor-id="household-generated-variables-file-hgen">Household Generated Variables File (HGEN)</h2>
<div class="cell">

</div>
<p><a href="#tbl-HgenID">Table&nbsp;5</a> shows a sample of household-level identifiers we extract from the HGEN file. The full data-frame contains 34 variables and 213,595 observations across 40,852 spanning between 2005 and 2018. <em>hid</em> and <em>year</em> are analogous to the <strong>pequiv</strong> file. <em>Owner</em> is an indicator variable based on four categories (1 – Owner, 2 – Main Tenant, 3 – Sub-Tenant, 4 – Tenant, 5 – Living in a home). <em>FreeRent</em> is a dummy variable equal to one if the family does not pay rent. <em>YearMoved</em> refers to the year the family moved to the household. And <em>HouseSize</em> Is the size of the dwelling in square meters.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Household Indentifiers</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Household Infrastructure</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Household Energy</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Household Costs</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell tbl-cap-location-top">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">select</span>(hgen, hid, year, owner, FreeRent, YearMoved, HouseSize) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">"Cambria"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_option =</span> <span class="fu">c</span>(<span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-HgenID" class="anchored">

<table class=" lightable-classic table table-hover" style="font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"><caption>Table 5:  Household identifiers HGEN file </caption>
 <thead>
  <tr>
   <th style="text-align:right;"> hid </th>
   <th style="text-align:right;"> year </th>
   <th style="text-align:right;"> owner </th>
   <th style="text-align:right;"> FreeRent </th>
   <th style="text-align:right;"> YearMoved </th>
   <th style="text-align:right;"> HouseSize </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> -2 </td>
   <td style="text-align:right;"> 1994 </td>
   <td style="text-align:right;"> 43 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> -2 </td>
   <td style="text-align:right;"> 1994 </td>
   <td style="text-align:right;"> 130 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> -2 </td>
   <td style="text-align:right;"> 2002 </td>
   <td style="text-align:right;"> 48 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 124 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> -2 </td>
   <td style="text-align:right;"> 2002 </td>
   <td style="text-align:right;"> 36 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 159 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1990 </td>
   <td style="text-align:right;"> 120 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 167 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> -2 </td>
   <td style="text-align:right;"> 2000 </td>
   <td style="text-align:right;"> 83 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell tbl-cap-location-top">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">select</span>(hgen, hid, year, basement, garden, elevator, balcony) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">"Cambria"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_option =</span> <span class="fu">c</span>(<span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-HgenInf" class="anchored">

<table class=" lightable-classic table table-hover" style="font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"><caption>Table 6:  Household identifiers HGEN file </caption>
 <thead>
  <tr>
   <th style="text-align:right;"> hid </th>
   <th style="text-align:right;"> year </th>
   <th style="text-align:right;"> basement </th>
   <th style="text-align:right;"> garden </th>
   <th style="text-align:right;"> elevator </th>
   <th style="text-align:right;"> balcony </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 124 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 159 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 167 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell tbl-cap-location-top">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">select</span>(hgen, hid, year, CentralFloorHeating, ThermalInsulation, DoubleGlazing, AlternativeEnergy, pv, boiler) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">"Cambria"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_option =</span> <span class="fu">c</span>(<span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-HgenRen" class="anchored">

<table class=" lightable-classic table table-hover" style="font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"><caption>Table 7:  Household energy efficiency investments </caption>
 <thead>
  <tr>
   <th style="text-align:right;"> hid </th>
   <th style="text-align:right;"> year </th>
   <th style="text-align:right;"> CentralFloorHeating </th>
   <th style="text-align:right;"> ThermalInsulation </th>
   <th style="text-align:right;"> DoubleGlazing </th>
   <th style="text-align:right;"> AlternativeEnergy </th>
   <th style="text-align:right;"> pv </th>
   <th style="text-align:right;"> boiler </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 124 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 159 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 167 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div class="cell tbl-cap-location-top">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">select</span>(hgen, hid, year, PowerCosts, OtherUtilityCosts, GasCosts, WarmWaterCosts) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">"Cambria"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_option =</span> <span class="fu">c</span>(<span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-HgenCosts" class="anchored">

<table class=" lightable-classic table table-hover" style="font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"><caption>Table 8:  Household energy costs </caption>
 <thead>
  <tr>
   <th style="text-align:right;"> hid </th>
   <th style="text-align:right;"> year </th>
   <th style="text-align:right;"> PowerCosts </th>
   <th style="text-align:right;"> OtherUtilityCosts </th>
   <th style="text-align:right;"> GasCosts </th>
   <th style="text-align:right;"> WarmWaterCosts </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;"> -5 </td>
   <td style="text-align:right;"> 30 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 60 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -2 </td>
   <td style="text-align:right;"> -5 </td>
   <td style="text-align:right;"> -2 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 77 </td>
   <td style="text-align:right;"> -5 </td>
   <td style="text-align:right;"> 49 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 124 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 42 </td>
   <td style="text-align:right;"> -5 </td>
   <td style="text-align:right;"> 40 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 159 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -1 </td>
   <td style="text-align:right;"> -5 </td>
   <td style="text-align:right;"> -1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 167 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 137 </td>
   <td style="text-align:right;"> -5 </td>
   <td style="text-align:right;"> 5 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
</div>
<p><a href="#tbl-HgenInf">Table&nbsp;6</a> contains different infrastructure characteristics of the dwelling. All variables are indicator dummies of basement, garden, elevator, or balcony infrastructure. As with the <strong>pequiv</strong> file, all negative entries refer to missing values for different reasons, e.g., the question was not part of that year’s questionnaire or invalid answers.</p>
<p><a href="#tbl-HgenRen">Table&nbsp;7</a> includes a set of indicator variables regarding household investments in Energy infrastructure or appliances. The indicator variables come from answers to the question <strong>What amenities does your dwelling have? Does it have -</strong> central floor heating (<em>CentralFloorHeating - 1984-2014</em>), floor heating (<em>FloorHeating - since 2014</em>), thermal insulation in the facade, roof, or basement (<em>ThermalInsulation - Since 2015</em>), air conditioner (<em>ac - Since 2007</em>), solar energy system (<em>pv - Since 2007</em>), other alternative energy sources like geothermal or heat pump (<em>AlternativeEnergy - Since 2009</em>), boiler (<em>boiler - 1991-2013</em>), or windows with at least double glazing (<em>DoubleGlazing - Since 2015</em>).</p>
<p><a href="#tbl-HgenCosts">Table&nbsp;8</a> includes a set of numeric variables on the household’s energy costs. <em>WarmWaterCost</em> contains the heating costs of tenants. The number comes from answers to the question <strong>What were the heating costs, including hot water, in the last calendar year?</strong>. Until 2013 (wave BD), the SOEP only surveyed heating costs for tenants. After 2013, it asked all SOEP individuals. In 2015 (wave BF), respondents stated their costs for different energy sources (district heating, gas, liquefied gas, electricity, heating oil, coal, wood, biomass, solar, and geothermal) and whether they used them for heating, warm water, cooking, or electronic devices. This change decreased the <em>WarmWaterCost</em> variable in the BF wave vs.&nbsp;other years. <em>PowerCosts</em> is a numeric variable with the electricity costs (excluding heating when applicable) asked since 2010. The exact questionnaire question is; <strong>What were your electricity costs in the last calendar year?</strong> The SOEP only asks this question to tenants if they pay rent. However, from 2016, it asked all tenants whether they paid rent or not. <em>GasCosts</em> states the monthly costs of gas not used for heating in Euros. Gas costs were only collected in 2014 (wave BE). <em>OtherUtilityCosts</em> are answers to the question; how much did you pay in the last calendar year for water, garbage removal, street cleaning, and other additional costs not mentioned above?</p>
</section>
<section id="final-individual-soep-data" class="level2">
<h2 class="anchored" data-anchor-id="final-individual-soep-data">Final (individual) SOEP data</h2>
<div class="cell">

</div>
<p>Once we load all the household level data-sets, we merge them and construct a final panel data of SOEP individuals between 2005 and 2018. The data set contains 547,704 observations across 112,745 individuals and 40,852 households. On average, each person remains in the panel 4.9 years. The data set contains 57 different variables (each of which is defined in the glossary section).</p>
<p>When merging the household and individual-level data. We perform different checks and create additional variables.</p>
<ul>
<li>We change all negative values (NAs) from the raw SOEP data to R NA format.</li>
<li>Transform the indicator variables with “Ja” or “Nein” structure to binary dummies.</li>
<li>we transform net and gross income (income, GrossIncole) from Euros to Thousand of Euros.</li>
<li>We impute the ownership and lodge indicators in cases with missing data if the household does not report moving.</li>
<li>Keep only the industry of the household head</li>
<li>Assume that if the dwelling has a garden it is a house</li>
<li>Assume that if the dwelling has an elevator it is a flat</li>
<li>Transform the PV data from one when bought to one if owned</li>
<li>Determine the age of the panel – <strong>PanelYear</strong></li>
<li>Simplify the lodge identifier to only “House” or “Flat”</li>
</ul>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Individual covariates</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Employment</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Dwelling</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">Dwelling Charac.</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-5" role="tab" aria-controls="tabset-3-5" aria-selected="false">Energy Efficiency</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-6" role="tab" aria-controls="tabset-3-6" aria-selected="false">Energy Costs</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell tbl-cap-location-top">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(soep <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, hid, year, head, age, sex, education) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">"Cambria"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_option =</span> <span class="fu">c</span>(<span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-SoepA" class="anchored">

<table class=" lightable-classic table table-hover" style="font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"><caption>Table 9:  Individual Covariates in the full sample </caption>
 <thead>
  <tr>
   <th style="text-align:right;"> YearMoved </th>
   <th style="text-align:right;"> pid </th>
   <th style="text-align:right;"> hid </th>
   <th style="text-align:right;"> year </th>
   <th style="text-align:right;"> head </th>
   <th style="text-align:right;"> age </th>
   <th style="text-align:right;"> sex </th>
   <th style="text-align:right;"> education </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 1994 </td>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 79 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 10.5 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 1994 </td>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2006 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 80 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 10.5 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 1994 </td>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2007 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 81 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 10.5 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 1994 </td>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2008 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 82 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 10.5 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 1997 </td>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 45 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 18.0 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 1997 </td>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2006 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 46 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 18.0 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell tbl-cap-location-top">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(soep <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, hid, year, employment, occupation, income, GrossIncome) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">"Cambria"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_option =</span> <span class="fu">c</span>(<span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-SoepB" class="anchored">

<table class=" lightable-classic table table-hover" style="font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"><caption>Table 10:  Employmenr Covariates in the full sample </caption>
 <thead>
  <tr>
   <th style="text-align:right;"> YearMoved </th>
   <th style="text-align:right;"> pid </th>
   <th style="text-align:right;"> hid </th>
   <th style="text-align:right;"> year </th>
   <th style="text-align:right;"> employment </th>
   <th style="text-align:right;"> occupation </th>
   <th style="text-align:right;"> income </th>
   <th style="text-align:right;"> GrossIncome </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 1994 </td>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 7.648 </td>
   <td style="text-align:right;"> 0.209 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 1994 </td>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2006 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 7.723 </td>
   <td style="text-align:right;"> 0.301 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 1994 </td>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2007 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 11.488 </td>
   <td style="text-align:right;"> 4.103 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 1994 </td>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2008 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 8.019 </td>
   <td style="text-align:right;"> 0.209 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 1997 </td>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 2131 </td>
   <td style="text-align:right;"> 18.800 </td>
   <td style="text-align:right;"> 7.550 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 1997 </td>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2006 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 2131 </td>
   <td style="text-align:right;"> 24.796 </td>
   <td style="text-align:right;"> 28.900 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell tbl-cap-location-top">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">ungroup</span>(soep) <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, hid, year, YearMoved, owner, FreeRent, lodge, NewestConstDate, OldestConstDate) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">"Cambria"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_option =</span> <span class="fu">c</span>(<span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-SoepC" class="anchored">

<table class=" lightable-classic table table-hover" style="font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"><caption>Table 11:  Employmenr Covariates in the full sample </caption>
 <thead>
  <tr>
   <th style="text-align:right;"> pid </th>
   <th style="text-align:right;"> hid </th>
   <th style="text-align:right;"> year </th>
   <th style="text-align:right;"> YearMoved </th>
   <th style="text-align:right;"> owner </th>
   <th style="text-align:right;"> FreeRent </th>
   <th style="text-align:left;"> lodge </th>
   <th style="text-align:right;"> NewestConstDate </th>
   <th style="text-align:right;"> OldestConstDate </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1994 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:left;"> Flats </td>
   <td style="text-align:right;"> 1980 </td>
   <td style="text-align:right;"> 1972 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2006 </td>
   <td style="text-align:right;"> 1994 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:left;"> Flats </td>
   <td style="text-align:right;"> 1980 </td>
   <td style="text-align:right;"> 1972 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2007 </td>
   <td style="text-align:right;"> 1994 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:left;"> Flats </td>
   <td style="text-align:right;"> 1980 </td>
   <td style="text-align:right;"> 1972 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2008 </td>
   <td style="text-align:right;"> 1994 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:left;"> Flats </td>
   <td style="text-align:right;"> 1980 </td>
   <td style="text-align:right;"> 1972 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 1997 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:left;"> Flats </td>
   <td style="text-align:right;"> 1918 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2006 </td>
   <td style="text-align:right;"> 1997 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:left;"> Flats </td>
   <td style="text-align:right;"> 1918 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div class="cell tbl-cap-location-top">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">ungroup</span>(soep) <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, hid, year, HouseSize, basement, garden, elevator, balcony) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">"Cambria"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_option =</span> <span class="fu">c</span>(<span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-SoepD" class="anchored">

<table class=" lightable-classic table table-hover" style="font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"><caption>Table 12:  Dwelling characteristics Covariates in the full sample </caption>
 <thead>
  <tr>
   <th style="text-align:right;"> pid </th>
   <th style="text-align:right;"> hid </th>
   <th style="text-align:right;"> year </th>
   <th style="text-align:right;"> HouseSize </th>
   <th style="text-align:right;"> basement </th>
   <th style="text-align:right;"> garden </th>
   <th style="text-align:right;"> elevator </th>
   <th style="text-align:right;"> balcony </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 43 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2006 </td>
   <td style="text-align:right;"> 43 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2007 </td>
   <td style="text-align:right;"> 43 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2008 </td>
   <td style="text-align:right;"> 43 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> 67 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2006 </td>
   <td style="text-align:right;"> 67 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-3-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-5-tab">
<div class="cell tbl-cap-location-top">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">ungroup</span>(soep) <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, hid, year, ac, FloorHeating, CentralFloorHeating, ThermalInsulation, AlternativeEnergy, pv, boiler) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">"Cambria"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_option =</span> <span class="fu">c</span>(<span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-SoepE" class="anchored">

<table class=" lightable-classic table table-hover" style="font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"><caption>Table 13:  Energy Efficiency Technologies </caption>
 <thead>
  <tr>
   <th style="text-align:right;"> pid </th>
   <th style="text-align:right;"> hid </th>
   <th style="text-align:right;"> year </th>
   <th style="text-align:right;"> ac </th>
   <th style="text-align:right;"> FloorHeating </th>
   <th style="text-align:right;"> CentralFloorHeating </th>
   <th style="text-align:right;"> ThermalInsulation </th>
   <th style="text-align:right;"> AlternativeEnergy </th>
   <th style="text-align:right;"> pv </th>
   <th style="text-align:right;"> boiler </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2006 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2007 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2008 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2006 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> -8 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-3-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-6-tab">
<div class="cell tbl-cap-location-top">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">ungroup</span>(soep) <span class="sc">|&gt;</span> <span class="fu">select</span>(pid, hid, year, PowerCosts, OtherUtilityCosts, GasCosts, WarmWaterCosts) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">"Cambria"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_option =</span> <span class="fu">c</span>(<span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-SoepF" class="anchored">

<table class=" lightable-classic table table-hover" style="font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"><caption>Table 14:  Energy Efficiency Technologies </caption>
 <thead>
  <tr>
   <th style="text-align:right;"> pid </th>
   <th style="text-align:right;"> hid </th>
   <th style="text-align:right;"> year </th>
   <th style="text-align:right;"> PowerCosts </th>
   <th style="text-align:right;"> OtherUtilityCosts </th>
   <th style="text-align:right;"> GasCosts </th>
   <th style="text-align:right;"> WarmWaterCosts </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 30 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2006 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 33 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2007 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 25 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 30 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 201 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2008 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 30 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2005 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 80 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 20 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 60313 </td>
   <td style="text-align:right;"> 2006 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 75 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 20 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="estimating-the-distribution-of-power-costs-by-income-decile" class="level2">
<h2 class="anchored" data-anchor-id="estimating-the-distribution-of-power-costs-by-income-decile">Estimating the distribution of power costs by income decile</h2>
<p>Next, we use the information on income and power cost from the sub-set of renters to look at the relationship between annual power costs and income. For this, we divide the data set into ten different income groups based on the deciles of the income distribution and estimate the average and standard deviation of income and power costs in each decile. <a href="#tbl-PowerCostDist">Table&nbsp;15</a> contains a sample of the final data. <em>IncomeGroup</em> refers to the income decile. <em>IncAvg</em> is the average yearly income in thousands of Euros. <em>PowerCostAvg</em> is the average yearly power bill in Euros. <em>IncSD</em> is the standard deviation of annual income. And <em>PowerCostSd</em> the analogous for power costs. <a href="#fig-PowerCostsDensity">Figure&nbsp;1</a> contains the density (Log) function of annual Power Costs across different income deciles. As expected, the density is normally distributed with higher mean values for more wealthy households.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Data Set</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Descriptives</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell tbl-cap-location-top">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load Data</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>file <span class="ot">=</span> <span class="fu">gsub</span>(<span class="st">"WebsiteABM"</span>, <span class="st">""</span>, <span class="fu">getwd</span>())</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">=</span> <span class="fu">read_rds</span>(<span class="fu">paste0</span>(file, <span class="st">"02_GenData/03_SoepFiles/IncomePowerDeciles.rds"</span>))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the table</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">ungroup</span>(data) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">"Cambria"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_option =</span> <span class="fu">c</span>(<span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-PowerCostDist" class="anchored">

<table class=" lightable-classic table table-hover" style="font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"><caption>Table 15:  Energy Efficiency Technologies </caption>
 <thead>
  <tr>
   <th style="text-align:left;"> IncomeGroup </th>
   <th style="text-align:right;"> IncAvg </th>
   <th style="text-align:right;"> PowerCostAvg </th>
   <th style="text-align:right;"> IncSd </th>
   <th style="text-align:right;"> PowerCostSd </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> [ 0.0, 13.6) </td>
   <td style="text-align:right;"> 10.13827 </td>
   <td style="text-align:right;"> 636.0916 </td>
   <td style="text-align:right;"> 2.187315 </td>
   <td style="text-align:right;"> 330.0873 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> [13.6, 20.4) </td>
   <td style="text-align:right;"> 17.11669 </td>
   <td style="text-align:right;"> 736.8999 </td>
   <td style="text-align:right;"> 1.953851 </td>
   <td style="text-align:right;"> 365.6021 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> [20.4, 25.8) </td>
   <td style="text-align:right;"> 23.17710 </td>
   <td style="text-align:right;"> 822.1222 </td>
   <td style="text-align:right;"> 1.546291 </td>
   <td style="text-align:right;"> 443.9794 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> [25.8, 30.9) </td>
   <td style="text-align:right;"> 28.23839 </td>
   <td style="text-align:right;"> 887.2933 </td>
   <td style="text-align:right;"> 1.447322 </td>
   <td style="text-align:right;"> 568.0897 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> [30.9, 36.1) </td>
   <td style="text-align:right;"> 33.42765 </td>
   <td style="text-align:right;"> 920.2857 </td>
   <td style="text-align:right;"> 1.523214 </td>
   <td style="text-align:right;"> 449.2557 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> [36.1, 42.0) </td>
   <td style="text-align:right;"> 38.92149 </td>
   <td style="text-align:right;"> 926.9687 </td>
   <td style="text-align:right;"> 1.666120 </td>
   <td style="text-align:right;"> 437.2922 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div id="fig-PowerCostsDensity" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="99_figures/PowerCostsDensity.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure 1: Density function of Power Costs across Income Deciles</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="variables-glossary" class="level2">
<h2 class="anchored" data-anchor-id="variables-glossary">Variables Glossary</h2>
<div class="incremental">
<ul class="incremental">
<li><strong><em>pid:</em></strong> This variable provides unique identification for each individual ever surveyed in the SOEP.</li>
<li><strong><em>hid:</em></strong> This variable links individuals to the households they were living in at the time of the interview. The SOEP provides yearly household identification numbers.</li>
<li><strong><em>sample:</em></strong> This variable indicates from which sub sample an individual in the SOEP is drawn. The variable contain the following levels</li>
<li><strong><em>age:</em></strong> Indicates the age of the individual</li>
<li><strong><em>sex:</em></strong> Indicates the gender of the individual (1 – Male and 2 – Female)</li>
<li><strong><em>MaritalStatus:</em></strong> Indicates the marital status of the individual (1 – Married, 2 – Single, 3 – Widowed, 4 – Divorced, 5 – Separated, 6 and 7 — Not with partner)</li>
<li><strong><em>Npersons:</em></strong> Refers to the number of persons in the household</li>
<li><strong><em>Nkids:</em></strong> Number of kids in the household</li>
<li><strong><em>education:</em></strong> Years of education</li>
<li><strong><em>employment:</em></strong> Indicator variable equal to one if the person is employed</li>
<li><strong><em>occupation:</em></strong> Individual’s occupation according to the ISCO-88 occupation code (ISCO = International Classification of Occupations)</li>
<li><strong><em>industry1:</em></strong> Individual’s two-digit industry code based on ten categories (1 – Agriculture, 2 – Energy, 3 – Mining, 4 – Manufacturing, 5 – Construction, 6 – Trade, 7 – Transport, 8 – Bank and Insurance, 9 – Services).</li>
<li><strong><em>industry2:</em></strong> Individual’s NACE industry code</li>
<li><strong><em>state:</em></strong> German state of residence</li>
<li><strong><em>region:</em></strong> German region of residence</li>
<li><strong><em>income:</em></strong> Household post-government income (after taxes and government transfers for all persons in the household)</li>
<li><strong><em>GrossIncome:</em></strong> Household pre-government income</li>
<li><strong><em>head:</em></strong> Individual’s relationship to household head (1 – Head, 2 – Partner, 3 – Child, 4 – Relative, 5 – Non Relative)</li>
</ul>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>
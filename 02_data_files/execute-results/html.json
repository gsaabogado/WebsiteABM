{
  "hash": "551012c028c3c6ce1f23c7dd76552e1c",
  "result": {
    "markdown": "---\ntitle: \"\"\nauthor: \"Severin Reissl and Luis Sarmiento\"\nbibliography: Literature.bib\nformat: \n  html: \n    toc: true\n    warning: false\n    code-fold: true\n    code-summary: \"Show the Code\"\n---\n\n\n# Data\n\nIn this section we describe at length the main characteristics and scientific processing of the data files we use in the ABM-REN model.\n\nThe section is divided into three main subsections:\n\n-   German Socio-Economic Panel Study\n-   Consumption data from the Deutscher Finanz Amt\n-   Gallup data on environmental attitudes\n\n## SOEP\n\nMost of the data we use to feed our model comes from the German Socio-Economic Panel Study (SOEP); a representative longitudinal panel study that started in West Germany in 1984.\n\nThe SOEP is divided into different data files each containing different questionnaires -- in this model, we use data from SOEP-37.\n\nThe main questionnaires we use for the construction of the model are:\n\n::: incremental\n-   PEQUIV - Personal Equivalent File $\\rightarrow$ ([Documentation](https://www.diw.de/de/diw_01.c.839052.de/s_13585.html))\n-   HGEN - Household Generated Data File $\\rightarrow$ ([Documentation](https://www.diw.de/documents/publikationen/73/diw_01.c.676077.de/diw_ssp0759.pdf))\n-   HWEALTH - Household Wealth Questionaire\n-   HCONSUM - Household Consumption Module\n:::\n\n### Data Structure\n\nAll of our variables are loded in one of two R formats; numeric or haven-labeled. Haven labeled format is similar to STATA (or SPSS) labeled data (For more information we refer the reader to the [online vignete of the haven package](https://haven.tidyverse.org/articles/semantics.html)).\n\nThe R-labeled class (part of the haven package) allows us to associate arbitrary labels to numeric or character vectors. Note that the goal of labeled files is only to include the description of categorical vectors in the SOEP data. For instance, when printing one labeled variable, the output consists of a vector of values alongside a data frame linking values and labels. It is essential to clarify that researchers must transform haven-labeled data formats into numeric or factor variables before using them in econometric, machine learning, or optimization models. Still, we keep the haven-labeled format in the raw files as it allows researchers to directly understand the values related to each numeric identifier of categorical variables in the SOEP data.\n\nAs an example, we show the gender column in the **pequiv** file. The variable contains a title identifier *Gender of Individual* alongside a vector of numeric values (i.e., 2,1,2,1,1,2), and the data frame linking values to labels.\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Show the data set\nhead(pequiv$sex)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<labelled<double>[6]>: Gender of Individual\n[1] 2 1 2 1 1 2\n\nLabels:\n value                                                 label\n    -6 [-6] Fragebogenversion mit geaenderter Filterfuehrung\n    -5             [-5] In Fragebogenversion nicht enthalten\n    -4                     [-4] Unzulaessige Mehrfachantwort\n    -3                                     [-3] nicht valide\n    -2                                  [-2] trifft nicht zu\n    -1                                     [-1] keine Angabe\n     1                                            [1] Male 1\n     2                                          [2] Female 2\n```\n:::\n:::\n\n\nAlso note that, **in general**, all negative entries refer to missing values for different reasons, e.g., the question was not part of that year's questionnaire or invalid answers.\n\n### PEQUIV\n\n@tbl-PequivIndividual shows a sample of individual-level characteristics we extract from the PEQUIV file. It consists of 19 variables and 547,704 observations between 2005 and 2018. Each variable is either in a numeric or haven-labeled format. The data frame contains the individual and household IDs (*pid* and *hid*) alongside the year of the interview (year).\n\n-   *head* is an indicator variable on the relationship between *pid* and the household head (1 = head, 2 = partner, 3 = child, 4 = relative, and 5 = non-relative).\n-   *age* is the average age of *pid*\n-   *sex* the sex (1 - Male; 2- Female) of *pid*\n-   *education* the total years of education of *pid*\n\n::: panel-tabset\n## Individual\n\n\n::: {#tbl-PequivIndividual .cell .tbl-cap-location-top tbl-cap='Individual characteristics from the PEQUIV file'}\n\n```{.r .cell-code}\n# Show the data set\nkbl(select(pequiv, pid, hid, year, head, sex, age, education) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> pid </th>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> head </th>\n   <th style=\"text-align:right;\"> sex </th>\n   <th style=\"text-align:right;\"> age </th>\n   <th style=\"text-align:right;\"> education </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 79 </td>\n   <td style=\"text-align:right;\"> 10.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 45 </td>\n   <td style=\"text-align:right;\"> 18.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 602 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 47 </td>\n   <td style=\"text-align:right;\"> 18.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 603 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 59 </td>\n   <td style=\"text-align:right;\"> -2.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 604 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> -1.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 605 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> -1.0 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Spatial\n\n\n::: {#tbl-PequivSpatial .cell .tbl-cap-location-top tbl-cap='Spatial variables from the PEQUIV file'}\n\n```{.r .cell-code}\n# Show the data set\nkbl(select(pequiv, pid, hid, year, state, region) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> pid </th>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> state </th>\n   <th style=\"text-align:right;\"> region </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 602 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 603 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 604 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 605 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Employment\n\n\n::: {#tbl-PequivEmployment .cell .tbl-cap-location-top tbl-cap='Employment variables from the PEQUIV file'}\n\n```{.r .cell-code}\n# Show the data set\nkbl(select(pequiv, pid, hid, year, employment, occupation, industry1) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> pid </th>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> employment </th>\n   <th style=\"text-align:right;\"> occupation </th>\n   <th style=\"text-align:right;\"> industry1 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2131 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 602 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2331 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 603 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> -2 </td>\n   <td style=\"text-align:right;\"> -2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 604 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> -1 </td>\n   <td style=\"text-align:right;\"> -2 </td>\n   <td style=\"text-align:right;\"> -1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 605 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> -1 </td>\n   <td style=\"text-align:right;\"> -2 </td>\n   <td style=\"text-align:right;\"> -1 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Household\n\n\n::: {#tbl-PequivHH .cell .tbl-cap-location-top tbl-cap='Household variables from the PEQUIV file'}\n\n```{.r .cell-code}\n# Show the data set\nkbl(select(pequiv, pid, hid, year, Npersons, Nkids, income, GrossIncome) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> pid </th>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> Npersons </th>\n   <th style=\"text-align:right;\"> Nkids </th>\n   <th style=\"text-align:right;\"> income </th>\n   <th style=\"text-align:right;\"> GrossIncome </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 7648 </td>\n   <td style=\"text-align:right;\"> 209 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 18800 </td>\n   <td style=\"text-align:right;\"> 7550 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 602 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 47146 </td>\n   <td style=\"text-align:right;\"> 68521 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 603 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 47146 </td>\n   <td style=\"text-align:right;\"> 68521 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 604 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 47146 </td>\n   <td style=\"text-align:right;\"> 68521 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 605 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 47146 </td>\n   <td style=\"text-align:right;\"> 68521 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n@tbl-PequivSpatial includes data on the spatial location of the household. Because we are working with the open version of the SOEP, we can only identify the *state* and *region* where the household is located.\n\n@tbl-PequivEmployment contains employment-related covariates. *employment* is a dummy variable equal to one if the person is currently employed. *occupation* is the person's occupation according to the International Classification of Occupations Code (ISCO). For instance, code 5,160 refers to protective service workers. *industry1* is a two-digit industry code based on ten categories (1 -- Agriculture, 2 -- Energy, 3 -- Mining, 4 -- Manufacturing, 5 -- Construction, 6 -- Trade, 7 -- Transport, 8 -- Bank and Insurance, 9 -- Services).\n\n@tbl-PequivHH includes a set of household-level controls we extract from the PEQUIV file. *Npersons* and *Nkids* are the number of persons and kids in the household. *income* and *GrossIncome* are the household net and gross incomes in Euros per year.\n\n### HGEN\n\n\n::: {.cell}\n\n:::\n\n\n@tbl-HgenID shows a sample of household-level identifiers we extract from the HGEN file. The full data-frame contains 34 variables and 213,595 observations across 40,852 households spanning between 2005 and 2018. *hid* and *year* are analogous to the **pequiv** file.\n\n-   *Owner* is an indicator variable based on four categories (1 -- Owner, 2 -- Main Tenant, 3 -- Sub-Tenant, 4 -- Tenant, 5 -- Living in a home).\n-   *FreeRent* is a dummy variable equal to one if the family does not pay rent.\n-   *YearMoved* refers to the year the family moved to the household.\n-   *HouseSize* Is the size of the dwelling in square meters.\n\n::: panel-tabset\n## Household Indentifiers\n\n\n::: {#tbl-HgenID .cell .tbl-cap-location-top tbl-cap='Household identifiers HGEN file'}\n\n```{.r .cell-code}\nkbl(select(hgen, hid, year, owner, FreeRent, YearMoved, HouseSize) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> owner </th>\n   <th style=\"text-align:right;\"> FreeRent </th>\n   <th style=\"text-align:right;\"> YearMoved </th>\n   <th style=\"text-align:right;\"> HouseSize </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> -2 </td>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:right;\"> 43 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -2 </td>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:right;\"> 130 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 94 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> -2 </td>\n   <td style=\"text-align:right;\"> 2002 </td>\n   <td style=\"text-align:right;\"> 48 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 124 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> -2 </td>\n   <td style=\"text-align:right;\"> 2002 </td>\n   <td style=\"text-align:right;\"> 36 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 159 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1990 </td>\n   <td style=\"text-align:right;\"> 120 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 167 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> -2 </td>\n   <td style=\"text-align:right;\"> 2000 </td>\n   <td style=\"text-align:right;\"> 83 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Household Infrastructure\n\n\n::: {#tbl-HgenInf .cell .tbl-cap-location-top tbl-cap='Household identifiers HGEN file'}\n\n```{.r .cell-code}\nkbl(select(hgen, hid, year, basement, garden, elevator, balcony) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> basement </th>\n   <th style=\"text-align:right;\"> garden </th>\n   <th style=\"text-align:right;\"> elevator </th>\n   <th style=\"text-align:right;\"> balcony </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 94 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 124 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 159 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 167 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Household Energy\n\n\n::: {#tbl-HgenRen .cell .tbl-cap-location-top tbl-cap='Household energy efficiency investments'}\n\n```{.r .cell-code}\nkbl(select(hgen, hid, year, CentralFloorHeating, ThermalInsulation, DoubleGlazing, AlternativeEnergy, pv, boiler) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> CentralFloorHeating </th>\n   <th style=\"text-align:right;\"> ThermalInsulation </th>\n   <th style=\"text-align:right;\"> DoubleGlazing </th>\n   <th style=\"text-align:right;\"> AlternativeEnergy </th>\n   <th style=\"text-align:right;\"> pv </th>\n   <th style=\"text-align:right;\"> boiler </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 94 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 124 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 159 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 167 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Household Costs\n\n\n::: {#tbl-HgenCosts .cell .tbl-cap-location-top tbl-cap='Household energy costs'}\n\n```{.r .cell-code}\nkbl(select(hgen, hid, year, PowerCosts, OtherUtilityCosts, GasCosts, WarmWaterCosts) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> PowerCosts </th>\n   <th style=\"text-align:right;\"> OtherUtilityCosts </th>\n   <th style=\"text-align:right;\"> GasCosts </th>\n   <th style=\"text-align:right;\"> WarmWaterCosts </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> -5 </td>\n   <td style=\"text-align:right;\"> 30 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -2 </td>\n   <td style=\"text-align:right;\"> -5 </td>\n   <td style=\"text-align:right;\"> -2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 94 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 77 </td>\n   <td style=\"text-align:right;\"> -5 </td>\n   <td style=\"text-align:right;\"> 49 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 124 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:right;\"> -5 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 159 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -1 </td>\n   <td style=\"text-align:right;\"> -5 </td>\n   <td style=\"text-align:right;\"> -1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 167 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 137 </td>\n   <td style=\"text-align:right;\"> -5 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n@tbl-HgenInf contains different infrastructure characteristics of the dwelling. All variables are indicator dummies of basement, garden, elevator, or balcony infrastructure.\n\n@tbl-HgenRen includes a set of indicator variables regarding household investments in Energy infrastructure or appliances. The indicator variables come from answers to the question **What amenities does your dwelling have? Does it have -** central floor heating (*CentralFloorHeating - 1984-2014*), floor heating (*FloorHeating - since 2014*), thermal insulation in the facade, roof, or basement (*ThermalInsulation - Since 2015*), air conditioner (*ac - Since 2007*), solar energy system (*pv - Since 2007*), other alternative energy sources like geothermal or heat pump (*AlternativeEnergy - Since 2009*), boiler (*boiler - 1991-2013*), or windows with at least double glazing (*DoubleGlazing - Since 2015*).\n\n@tbl-HgenCosts includes a set of numeric variables on the household's energy costs:\n\n-   *WarmWaterCost*: contains the heating costs of tenants. The number comes from answers to the question **What were the heating costs, including hot water, in the last calendar year?**. Until 2013 (wave BD), the SOEP only surveyed heating costs for tenants. After 2013, it asked all SOEP individuals. In 2015 (wave BF), respondents stated their costs for different energy sources (district heating, gas, liquefied gas, electricity, heating oil, coal, wood, biomass, solar, and geothermal) and whether they used them for heating, warm water, cooking, or electronic devices. This change decreased the *WarmWaterCost* variable in the BF wave vs. other years.\n-   *PowerCosts*: is a numeric variable with the electricity costs (excluding heating when applicable) asked since 2010. The exact questionnaire question is; **What were your electricity costs in the last calendar year?** The SOEP only asks this question to tenants if they pay rent. However, from 2016, it asked all tenants whether they paid rent or not.\n-   *GasCosts*: states the monthly costs of gas not used for heating in Euros. Gas costs were only collected in 2014 (wave BE).\n-   *OtherUtilityCosts*: are answers to the question; how much did you pay in the last calendar year for water, garbage removal, street cleaning, and other additional costs not mentioned above?\n\n### individual panel\n\n\n::: {.cell}\n\n:::\n\n\nOnce we load the **hgen** and **pequiv** files, we merge them and construct a final panel data of SOEP individuals between 2005 and 2018. The data set contains 547,704 observations across 112,745 individuals and 40,852 households. On average, each person remains in the panel 4.9 years. The data set contains 57 different variables (each of which is defined in the glossary section).\n\nWhen merging the household and individual-level data. We perform different checks and create additional variables.\n\n-   We change all negative values (NAs) from the raw SOEP data to R NA format.\n-   Transform the indicator variables with *\"Ja\" or \"Nein\" structure* to binary dummies.\n-   Transform net and gross income (income, GrossIncome) from Euros to Thousand of Euros.\n-   Impute the ownership and lodge indicators in cases with missing data if the household does not report moving.\n-   Keep only the industry of the household head.\n-   Assume that if the dwelling has a garden it is a house.\n-   Assume that if the dwelling has an elevator it is a flat.\n-   Transform the PV data from one when bought to one if owned.\n-   Determine the age of the panel -- **PanelYear**.\n-   Simplify the lodge identifier to only \"House\" or \"Flat\".\n\n::: panel-tabset\n## Individual covariates\n\n\n::: {#tbl-SoepA .cell .tbl-cap-location-top tbl-cap='Individual Covariates in the full sample'}\n\n```{.r .cell-code}\nkbl(soep |> select(pid, hid, year, head, age, sex, education) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> YearMoved </th>\n   <th style=\"text-align:right;\"> pid </th>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> head </th>\n   <th style=\"text-align:right;\"> age </th>\n   <th style=\"text-align:right;\"> sex </th>\n   <th style=\"text-align:right;\"> education </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 79 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 10.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 80 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 10.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2007 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 81 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 10.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2008 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 82 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 10.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1997 </td>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 45 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 18.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1997 </td>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 46 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 18.0 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Employment\n\n\n::: {#tbl-SoepB .cell .tbl-cap-location-top tbl-cap='Employmenr Covariates in the full sample'}\n\n```{.r .cell-code}\nkbl(soep |> select(pid, hid, year, employment, occupation, income, GrossIncome) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> YearMoved </th>\n   <th style=\"text-align:right;\"> pid </th>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> employment </th>\n   <th style=\"text-align:right;\"> occupation </th>\n   <th style=\"text-align:right;\"> income </th>\n   <th style=\"text-align:right;\"> GrossIncome </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 7.648 </td>\n   <td style=\"text-align:right;\"> 0.209 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 7.723 </td>\n   <td style=\"text-align:right;\"> 0.301 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2007 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 11.488 </td>\n   <td style=\"text-align:right;\"> 4.103 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2008 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 8.019 </td>\n   <td style=\"text-align:right;\"> 0.209 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1997 </td>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2131 </td>\n   <td style=\"text-align:right;\"> 18.800 </td>\n   <td style=\"text-align:right;\"> 7.550 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1997 </td>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2131 </td>\n   <td style=\"text-align:right;\"> 24.796 </td>\n   <td style=\"text-align:right;\"> 28.900 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Dwelling\n\n\n::: {#tbl-SoepC .cell .tbl-cap-location-top tbl-cap='Employmenr Covariates in the full sample'}\n\n```{.r .cell-code}\nkbl(ungroup(soep) |> select(pid, hid, year, YearMoved, owner, FreeRent, lodge, NewestConstDate, OldestConstDate) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> pid </th>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> YearMoved </th>\n   <th style=\"text-align:right;\"> owner </th>\n   <th style=\"text-align:right;\"> FreeRent </th>\n   <th style=\"text-align:left;\"> lodge </th>\n   <th style=\"text-align:right;\"> NewestConstDate </th>\n   <th style=\"text-align:right;\"> OldestConstDate </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:left;\"> Flats </td>\n   <td style=\"text-align:right;\"> 1980 </td>\n   <td style=\"text-align:right;\"> 1972 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:left;\"> Flats </td>\n   <td style=\"text-align:right;\"> 1980 </td>\n   <td style=\"text-align:right;\"> 1972 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2007 </td>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:left;\"> Flats </td>\n   <td style=\"text-align:right;\"> 1980 </td>\n   <td style=\"text-align:right;\"> 1972 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2008 </td>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:left;\"> Flats </td>\n   <td style=\"text-align:right;\"> 1980 </td>\n   <td style=\"text-align:right;\"> 1972 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 1997 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:left;\"> Flats </td>\n   <td style=\"text-align:right;\"> 1918 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:right;\"> 1997 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:left;\"> Flats </td>\n   <td style=\"text-align:right;\"> 1918 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Dwelling Charac.\n\n\n::: {#tbl-SoepD .cell .tbl-cap-location-top tbl-cap='Dwelling characteristics Covariates in the full sample'}\n\n```{.r .cell-code}\nkbl(ungroup(soep) |> select(pid, hid, year, HouseSize, basement, garden, elevator, balcony) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> pid </th>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> HouseSize </th>\n   <th style=\"text-align:right;\"> basement </th>\n   <th style=\"text-align:right;\"> garden </th>\n   <th style=\"text-align:right;\"> elevator </th>\n   <th style=\"text-align:right;\"> balcony </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 43 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:right;\"> 43 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2007 </td>\n   <td style=\"text-align:right;\"> 43 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2008 </td>\n   <td style=\"text-align:right;\"> 43 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 67 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:right;\"> 67 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Energy Efficiency\n\n\n::: {#tbl-SoepE .cell .tbl-cap-location-top tbl-cap='Energy Efficiency Technologies'}\n\n```{.r .cell-code}\nkbl(ungroup(soep) |> select(pid, hid, year, ac, FloorHeating, CentralFloorHeating, ThermalInsulation, AlternativeEnergy, pv, boiler) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> pid </th>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> ac </th>\n   <th style=\"text-align:right;\"> FloorHeating </th>\n   <th style=\"text-align:right;\"> CentralFloorHeating </th>\n   <th style=\"text-align:right;\"> ThermalInsulation </th>\n   <th style=\"text-align:right;\"> AlternativeEnergy </th>\n   <th style=\"text-align:right;\"> pv </th>\n   <th style=\"text-align:right;\"> boiler </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2007 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2008 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Energy Costs\n\n\n::: {#tbl-SoepF .cell .tbl-cap-location-top tbl-cap='Energy Efficiency Technologies'}\n\n```{.r .cell-code}\nkbl(ungroup(soep) |> select(pid, hid, year, PowerCosts, OtherUtilityCosts, GasCosts, WarmWaterCosts) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> pid </th>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> PowerCosts </th>\n   <th style=\"text-align:right;\"> OtherUtilityCosts </th>\n   <th style=\"text-align:right;\"> GasCosts </th>\n   <th style=\"text-align:right;\"> WarmWaterCosts </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> 30 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> 33 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2007 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> 25 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> 30 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 2008 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> 30 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> 80 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> 20 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 203 </td>\n   <td style=\"text-align:right;\"> 60313 </td>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> 75 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:right;\"> 20 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n### HCONSUM\n\nWe use the 2010 SOEP consumption module to estimate the consumption propensity of German households. The SOEP consumption module, or \"hconsum,\" was implemented as part of the 31st SOEP wave in 2010. The goal of *hconsum* is to allow researchers to understand the relationship between welfare, income, and disposable income -- whereas consumption characterizes the actual current living standard, income describes the potential command over resources. For a complete review of the SOEP consumption module, we refer the reader to @Grabka2013. In this chapter, we only highlight the its main characteristics.\n\nUsually, consumption data takes one of two forms; consumption journals or representative surveys. The goal of consumption journals is to keep track of all daily expenditures across a cross-section of representative households to understand consumption patterns. Once there is enough data, researchers aggregate the items into categories to assess the main components of households' income use. . Representative surveys, on the other hand, study typical consumption instead of consumption at a given time. The core idea is that asking for a relevant set of common consumption goods can act as a good proxy for total consumption.\n\nIn the 2010 hconsum module, the SOEP adopted the idea of consumption goods to approximate total consumption. In total, they collected twenty-four different consumption categories spanning from food expenditures to insurance costs.\n\nThere were a series of methodological challenges while collecting the consumption data. First, there were inconsistencies between reported monthly and yearly expenditures. In total, the share of inconsistencies is smaller than one percent. Next, there were missing values (usually around 2-4%) across several categories. Finally, there was clear evidence of heaping (coarse reporting of continuous values).\n\nThe SOEP solves the inconsistency between monthly and yearly data with the following process. First, it computes the percentiles of consumption according to the reported monthly and annual values. Second, compare this percentage rank to the percentiles of the household net income. In case of inconsistent monthly and yearly information, the SOEP assigns the consumption value of the category whose percentile is the closest to the income distribution.\n\nFor missing data, the SOEP uses multiple imputation methods. However, instead of assigning only one value per income category, the SOEP assign five different values to reflect the uncertainty in the imputation process. Particularly, the SOEP impute the missing values through multivariate imputation by chained equations (MICE) [@VanBuren1999].\n\nFor heaping, the SOEP adjust the heaped data by approximating its true distribution with an theoretical distribution of consumption behaviour. After several theoretical exercise, the SOEP chooses the gamma and generalized beta distribution of the second kind (GB2) to approximate the true distribution of consumption data. @eq-gb2 contains the mathematical formula behind the GB2 distribution. In it, $x$ is consumption, $B(b,q)$ the beta function, and a,b,p, and q positive parameters.\n\n\n$$\nf(x) = ax^{ap-1}\\Big[b^{ab} B(p,q)\\Big(1 + (\\frac{x}{b})^a\\Big)^{p+q}\\Big]^{-1}\n$$ {#eq-gb2}\n\n::: {.cell}\n\n:::\n\n\nIn @tbl-ConsA, we show a sample of the consumption data for daily expenditures. @tbl-ConsB contains a similar exercise for housing costs, @tbl-ConsC for financial burdens, and @tbl-ConsD for other income uses. All values are in thousand of Euros per year and come from averaging the five different imputations of the SOEP for each consumption category.\n\n::: panel-tabset\n## Daily Expenditures\n\n\n::: {#tbl-ConsA .cell .tbl-cap-location-top tbl-cap='Sample of the consumption module (daily expenditures)'}\n\n```{.r .cell-code}\nkbl(data |> select(hid, Food, Clothes, Transport, Coms, Leisure, Cleaning) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> Food </th>\n   <th style=\"text-align:right;\"> Clothes </th>\n   <th style=\"text-align:right;\"> Transport </th>\n   <th style=\"text-align:right;\"> Coms </th>\n   <th style=\"text-align:right;\"> Leisure </th>\n   <th style=\"text-align:right;\"> Cleaning </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 6.870 </td>\n   <td style=\"text-align:right;\"> 1.431 </td>\n   <td style=\"text-align:right;\"> 1.1055 </td>\n   <td style=\"text-align:right;\"> 0.711 </td>\n   <td style=\"text-align:right;\"> 2.0010 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 94 </td>\n   <td style=\"text-align:right;\"> 3.606 </td>\n   <td style=\"text-align:right;\"> 0.645 </td>\n   <td style=\"text-align:right;\"> 0.3375 </td>\n   <td style=\"text-align:right;\"> 0.528 </td>\n   <td style=\"text-align:right;\"> 0.2745 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 159 </td>\n   <td style=\"text-align:right;\"> 2.580 </td>\n   <td style=\"text-align:right;\"> 0.792 </td>\n   <td style=\"text-align:right;\"> 0.6990 </td>\n   <td style=\"text-align:right;\"> 0.123 </td>\n   <td style=\"text-align:right;\"> 1.5705 </td>\n   <td style=\"text-align:right;\"> 2.40 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 167 </td>\n   <td style=\"text-align:right;\"> 3.576 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 1.1790 </td>\n   <td style=\"text-align:right;\"> 0.870 </td>\n   <td style=\"text-align:right;\"> 0.0000 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 230 </td>\n   <td style=\"text-align:right;\"> 6.135 </td>\n   <td style=\"text-align:right;\"> 0.429 </td>\n   <td style=\"text-align:right;\"> 1.5000 </td>\n   <td style=\"text-align:right;\"> 0.726 </td>\n   <td style=\"text-align:right;\"> 0.7605 </td>\n   <td style=\"text-align:right;\"> 2.40 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 477 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 0.1155 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 0.0000 </td>\n   <td style=\"text-align:right;\"> 0.72 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Housing expenditures\n\n\n::: {#tbl-ConsB .cell .tbl-cap-location-top tbl-cap='Sample of the consumption module (Housing)'}\n\n```{.r .cell-code}\nkbl(data |> select(hid, Rent, Mortgage, Housing, Heating, Power, Utilities, Furniture) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> Rent </th>\n   <th style=\"text-align:right;\"> Mortgage </th>\n   <th style=\"text-align:right;\"> Housing </th>\n   <th style=\"text-align:right;\"> Heating </th>\n   <th style=\"text-align:right;\"> Power </th>\n   <th style=\"text-align:right;\"> Utilities </th>\n   <th style=\"text-align:right;\"> Furniture </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 4.908 </td>\n   <td style=\"text-align:right;\"> 16.32 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1.500 </td>\n   <td style=\"text-align:right;\"> 1.1500 </td>\n   <td style=\"text-align:right;\"> 1.0 </td>\n   <td style=\"text-align:right;\"> 0.036 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 94 </td>\n   <td style=\"text-align:right;\"> 5.592 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.576 </td>\n   <td style=\"text-align:right;\"> 0.6100 </td>\n   <td style=\"text-align:right;\"> 0.6 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 159 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1.530 </td>\n   <td style=\"text-align:right;\"> 0.7255 </td>\n   <td style=\"text-align:right;\"> 0.6 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 167 </td>\n   <td style=\"text-align:right;\"> 3.684 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1.104 </td>\n   <td style=\"text-align:right;\"> 0.7780 </td>\n   <td style=\"text-align:right;\"> 0.6 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 230 </td>\n   <td style=\"text-align:right;\"> 4.908 </td>\n   <td style=\"text-align:right;\"> 7.44 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1.100 </td>\n   <td style=\"text-align:right;\"> 0.5250 </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 0.318 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 477 </td>\n   <td style=\"text-align:right;\"> 6.252 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.948 </td>\n   <td style=\"text-align:right;\"> 0.8200 </td>\n   <td style=\"text-align:right;\"> 0.6 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Financial expenditures\n\n\n::: {#tbl-ConsC .cell .tbl-cap-location-top tbl-cap='Sample of the consumption module (Housing)'}\n\n```{.r .cell-code}\nkbl(data |> select(hid, Insurance, Loans, Mortgage) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> Insurance </th>\n   <th style=\"text-align:right;\"> Loans </th>\n   <th style=\"text-align:right;\"> Mortgage </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 3.5280 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 16.32 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 94 </td>\n   <td style=\"text-align:right;\"> 0.9825 </td>\n   <td style=\"text-align:right;\"> 0.72 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 159 </td>\n   <td style=\"text-align:right;\"> 7.2255 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 167 </td>\n   <td style=\"text-align:right;\"> 1.3110 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 230 </td>\n   <td style=\"text-align:right;\"> 0.3990 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 7.44 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 477 </td>\n   <td style=\"text-align:right;\"> 0.0060 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Other expenditures\n\n\n::: {#tbl-ConsD .cell .tbl-cap-location-top tbl-cap='Sample of the consumption module (Other)'}\n\n```{.r .cell-code}\nkbl(data |> select(hid, Alimony, ChildCare, Culture, Education, Health, Holidays, Other) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> hid </th>\n   <th style=\"text-align:right;\"> Alimony </th>\n   <th style=\"text-align:right;\"> ChildCare </th>\n   <th style=\"text-align:right;\"> Culture </th>\n   <th style=\"text-align:right;\"> Education </th>\n   <th style=\"text-align:right;\"> Health </th>\n   <th style=\"text-align:right;\"> Holidays </th>\n   <th style=\"text-align:right;\"> Other </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.96 </td>\n   <td style=\"text-align:right;\"> 0.441 </td>\n   <td style=\"text-align:right;\"> 0.201 </td>\n   <td style=\"text-align:right;\"> 0.9000 </td>\n   <td style=\"text-align:right;\"> 5.772 </td>\n   <td style=\"text-align:right;\"> 0.402 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 94 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0.054 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 0.3255 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 159 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0.096 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 0.3465 </td>\n   <td style=\"text-align:right;\"> 2.304 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 167 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 0.6345 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 0.141 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 230 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0.438 </td>\n   <td style=\"text-align:right;\"> 0.126 </td>\n   <td style=\"text-align:right;\"> 0.1860 </td>\n   <td style=\"text-align:right;\"> 4.104 </td>\n   <td style=\"text-align:right;\"> 0.699 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 477 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 0.5295 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\nIn @fig-ShareConsumption we look at the difference in consumption values and composition across the SOEP income deciles. For this, we aggregate all consumption items into eight categories; Daily expenditures, health, financial, transport, heating, power, housing, and other. First, there are clear differences in the amount of money used for consumption across income groups. For instance, in the highest and lowest deciles of the income distribution households spend 14,900 and 4,460 Euros per year, respectively.\n\n::: panel-tabset\n## Yearly Consumption\n\n\n::: {.cell .fig-cap-location-top}\n\n```{.r .cell-code}\n# Divide into income deciles \ndata = mutate(data, decile = ntile(income, 10)) |> \n  mutate(decile = as_factor(decile))\n# Create the data for the plot\nplot= select(data, -total, -income, -owner) %>% \n  gather(var, value, -hid, -decile)%>% \n  left_join(., codebook, by = c(\"var\" = \"concept\")) |> \n  group_by(decile, group) |> \n  summarise(value = mean(value)) |> \n  mutate(group = fct_reorder(factor(group), value, .desc = F)) |> \n  group_by(decile) |> mutate(total = sum(value))\n# Plot total expenditures by concept\nggplot(plot) +\n  geom_bar(aes(x = decile, y = value, fill = group), stat = \"identity\") +\n  scale_fill_viridis(discrete = T, option = \"E\") +\n  theme_economist() %+replace% theme(legend.title = element_blank()) +\n  labs(x = \"Income Decile\", y = \"\")\n```\n\n::: {.cell-output-display}\n![Yearly consumption by concept in thousand euros (SOEP 2010)](02_data_files/figure-html/fig-RawConsumption-1.png){#fig-RawConsumption width=672}\n:::\n:::\n\n\n## Consumption Share\n\n\n::: {.cell .fig-cap-location-top}\n\n```{.r .cell-code}\n# Divide into income deciles \ndata = mutate(data, decile = ntile(income, 10)) |> \n  mutate(decile = as_factor(decile))\n# Create the data for the plot\nplot = select(data, -total, -income, -owner) %>% \n  gather(var, value, -hid, -decile) %>% \n  left_join(., codebook, by = c(\"var\" = \"concept\")) |> group_by(decile, group) |> \n  summarise(value = mean(value)) |> group_by(decile) |> \n  mutate(share = (value/sum(value))*100)  |> \n  mutate(group = fct_reorder(factor(group), share, .desc = F))\n# Plot total expenditures by concept\nggplot(plot) +\n  geom_bar(aes(x = decile, y = share, fill = group), stat = \"identity\") +\n  scale_fill_viridis(discrete = T, option = \"E\") +\n  theme_economist() %+replace% theme(legend.title = element_blank()) +\n  labs(x = \"\", y = \"\")\n```\n\n::: {.cell-output-display}\n![Consumption share by concept (SOEP 2010)](02_data_files/figure-html/fig-ShareConsumption-1.png){#fig-ShareConsumption width=672}\n:::\n:::\n\n\n## Consumption Share of income\n\n\n::: {.cell .fig-cap-location-top}\n\n```{.r .cell-code}\n# Divide into income deciles \ndata = mutate(data, decile = ntile(income, 10)) |> \n  mutate(decile = as_factor(decile))\n# Create the data for the plot\nplot = select(data, total, income, decile) |> \n  group_by(decile) |> \n  summarise(consumption = mean(total), income = mean(income)) |> \n  mutate(share = (consumption/income)*100)\n# Plot total expenditures by concept\nggplot(plot) +\n  geom_bar(aes(x = decile, y = share, fill = share), stat = \"identity\") +\n  scale_fill_viridis(discrete = F, option = \"E\", direction = -1) +\n  theme_economist() %+replace% \n  theme(legend.position = c(0.9, 0.8), legend.title = element_text(hjust = 1)) +\n  labs(x = \"\", y = \"\") + \n  guides(fill = guide_legend(str_wrap(\"Consumption Share of Income\", width = 10)))\n```\n\n::: {.cell-output-display}\n![Consumption share of income (SOEP 2010)](02_data_files/figure-html/fig-IncToCon-1.png){#fig-IncToCon width=672}\n:::\n:::\n\n:::\n\n### Estimating the distribution of power costs by income decile\n\nNext, we use the information on income and power cost from the sub-set of renters to look at the relationship between annual power costs and income. For this, we divide the data set into ten different income groups based on the deciles of the income distribution and estimate the average and standard deviation of income and power costs in each decile.\n\n@tbl-PowerCostDist contains a sample of the final data. *IncomeGroup* refers to the income decile. *IncAvg* is the average yearly income in thousands of Euros. *PowerCostAvg* is the average yearly power bill in Euros. *IncSD* is the standard deviation of annual income. And *PowerCostSd* the analogous for power costs. @fig-PowerCostsDensity contains the density (Log) function of annual Power Costs across different income deciles. As expected, the density is normally distributed with higher mean values for more wealthy households.\n\n::: panel-tabset\n## Data Set\n\n\n::: {#tbl-PowerCostDist .cell .tbl-cap-location-top tbl-cap='Energy Efficiency Technologies'}\n\n```{.r .cell-code}\n# Load Data\nfile = gsub(\"WebsiteABM\", \"\", getwd())\ndata = read_rds(paste0(file, \"02_GenData/03_SoepFiles/IncomePowerDeciles.rds\"))\n# Show the table\nkbl(ungroup(data) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> IncomeGroup </th>\n   <th style=\"text-align:right;\"> IncAvg </th>\n   <th style=\"text-align:right;\"> PowerCostAvg </th>\n   <th style=\"text-align:right;\"> IncSd </th>\n   <th style=\"text-align:right;\"> PowerCostSd </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> [ 0.0, 13.6) </td>\n   <td style=\"text-align:right;\"> 10.13827 </td>\n   <td style=\"text-align:right;\"> 636.0916 </td>\n   <td style=\"text-align:right;\"> 2.187315 </td>\n   <td style=\"text-align:right;\"> 330.0873 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [13.6, 20.4) </td>\n   <td style=\"text-align:right;\"> 17.11669 </td>\n   <td style=\"text-align:right;\"> 736.8999 </td>\n   <td style=\"text-align:right;\"> 1.953851 </td>\n   <td style=\"text-align:right;\"> 365.6021 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [20.4, 25.8) </td>\n   <td style=\"text-align:right;\"> 23.17710 </td>\n   <td style=\"text-align:right;\"> 822.1222 </td>\n   <td style=\"text-align:right;\"> 1.546291 </td>\n   <td style=\"text-align:right;\"> 443.9794 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [25.8, 30.9) </td>\n   <td style=\"text-align:right;\"> 28.23839 </td>\n   <td style=\"text-align:right;\"> 887.2933 </td>\n   <td style=\"text-align:right;\"> 1.447322 </td>\n   <td style=\"text-align:right;\"> 568.0897 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [30.9, 36.1) </td>\n   <td style=\"text-align:right;\"> 33.42765 </td>\n   <td style=\"text-align:right;\"> 920.2857 </td>\n   <td style=\"text-align:right;\"> 1.523214 </td>\n   <td style=\"text-align:right;\"> 449.2557 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [36.1, 42.0) </td>\n   <td style=\"text-align:right;\"> 38.92149 </td>\n   <td style=\"text-align:right;\"> 926.9687 </td>\n   <td style=\"text-align:right;\"> 1.666120 </td>\n   <td style=\"text-align:right;\"> 437.2922 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Descriptives\n\n![Density function of Power Costs across Income Deciles](99_figures/PowerCostsDensity){#fig-PowerCostsDensity}\n:::\n\n### Mapping the income deciles of the SOEP to the \"Bundesbank\" categories\n\nTo assign the propensity to consume across SOEP income deciles, we use statistics from the German Central Bank (Deutsches Bundesbank). The Bank provides propensities to consume across twelve income categories. For instance, the propensity to consume for persons with monthly incomes between 900`&#8364;`{=html} and 1,300`&#8364;`{=html} is x% while for individuals between 10,000`&#8364;`{=html} and 80,000`&#8364;`{=html} y%. <!--# Severin, can you add these percentages? -->\n\nGiven that we initialize ABM-REN across income deciles, we map the consumption propensity data from the Bundesbank with the SOEP income distribution. @tbl-AmtDeciles shows a mapping sample between the \"Bank\" categories and the SOEP income distribution. As an example, the first row shows that the category between zero`&#8364;`{=html} and five hundred is within the zero and third percentile of the SOEP income distribution.\n\n\n::: {#tbl-AmtDeciles .cell .tbl-cap-location-top tbl-cap='Energy Efficiency Technologies'}\n\n```{.r .cell-code}\n# Load Data\nfile = gsub(\"WebsiteABM\", \"\", getwd())\ndata = read_rds(paste0(file, \"02_GenData/03_SoepFiles/AmtMap.rds\")) |> arrange(LowPer, desc = T)\n# Show the table\nkbl(ungroup(data) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> amt </th>\n   <th style=\"text-align:right;\"> LowAmt </th>\n   <th style=\"text-align:right;\"> HighAmt </th>\n   <th style=\"text-align:right;\"> LowPer </th>\n   <th style=\"text-align:right;\"> HighPer </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> [    0,  500) </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 500 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [  500,  900) </td>\n   <td style=\"text-align:right;\"> 500 </td>\n   <td style=\"text-align:right;\"> 900 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [  900, 1300) </td>\n   <td style=\"text-align:right;\"> 900 </td>\n   <td style=\"text-align:right;\"> 1300 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [ 1300, 1500) </td>\n   <td style=\"text-align:right;\"> 1300 </td>\n   <td style=\"text-align:right;\"> 1500 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 21 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [ 1500, 1700) </td>\n   <td style=\"text-align:right;\"> 1500 </td>\n   <td style=\"text-align:right;\"> 1700 </td>\n   <td style=\"text-align:right;\"> 21 </td>\n   <td style=\"text-align:right;\"> 26 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [ 1700, 2000) </td>\n   <td style=\"text-align:right;\"> 1700 </td>\n   <td style=\"text-align:right;\"> 2000 </td>\n   <td style=\"text-align:right;\"> 26 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n#### Estimating the propensity to consume across Bundesbank income categories\n\nNext, we use consumption data from the SOEP to approximate the propernsity to consume distribution for the different income categories of the Bundesbank.\n\n::: panel-tabset\n## Data Set\n\n\n::: {#tbl-ConDensity .cell .tbl-cap-location-top tbl-cap='Energy Efficiency Technologies'}\n\n```{.r .cell-code}\n# Load Data\nfile = gsub(\"WebsiteABM\", \"\", getwd())\ndata = read_rds(paste0(file, \"02_GenData/03_SoepFiles/ConsumptionDeciles.rds\"))\n# Show the table\nkbl(ungroup(data) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic table table-hover\" style=\"font-family: Cambria; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> IncomeGroup </th>\n   <th style=\"text-align:right;\"> IncAvg </th>\n   <th style=\"text-align:right;\"> ConAvg </th>\n   <th style=\"text-align:right;\"> ConSd </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> [    0,  500) </td>\n   <td style=\"text-align:right;\"> 327.1773 </td>\n   <td style=\"text-align:right;\"> 4.792508 </td>\n   <td style=\"text-align:right;\"> 2.588007 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [  500,  900) </td>\n   <td style=\"text-align:right;\"> 733.1171 </td>\n   <td style=\"text-align:right;\"> 4.768947 </td>\n   <td style=\"text-align:right;\"> 1.795604 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [  900, 1300) </td>\n   <td style=\"text-align:right;\"> 1117.5803 </td>\n   <td style=\"text-align:right;\"> 5.578136 </td>\n   <td style=\"text-align:right;\"> 2.453102 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [ 1300, 1500) </td>\n   <td style=\"text-align:right;\"> 1401.2352 </td>\n   <td style=\"text-align:right;\"> 6.536188 </td>\n   <td style=\"text-align:right;\"> 3.793312 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [ 1500, 1700) </td>\n   <td style=\"text-align:right;\"> 1600.1122 </td>\n   <td style=\"text-align:right;\"> 6.587236 </td>\n   <td style=\"text-align:right;\"> 2.379205 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [ 1700, 2000) </td>\n   <td style=\"text-align:right;\"> 1849.5851 </td>\n   <td style=\"text-align:right;\"> 7.423728 </td>\n   <td style=\"text-align:right;\"> 3.834969 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Descriptives\n\n![Density function - propensity to consume across Bundesban income categories](99_figures/ConsumptionDensity){#fig-ConsumptionDensity}\n:::\n\n### Estimating the probability of adoption conditional on ownership and dwelling class\n\n### Variables Glossary\n\n::: incremental\n-   ***pid:*** This variable provides unique identification for each individual ever surveyed in the SOEP.\n-   ***hid:*** This variable links individuals to the households they were living in at the time of the interview. The SOEP provides yearly household identification numbers.\n-   ***sample:*** This variable indicates from which sub sample an individual in the SOEP is drawn. The variable contain the following levels\n-   ***age:*** Indicates the age of the individual\n-   ***sex:*** Indicates the gender of the individual (1 -- Male and 2 -- Female)\n-   ***MaritalStatus:*** Indicates the marital status of the individual (1 -- Married, 2 -- Single, 3 -- Widowed, 4 -- Divorced, 5 -- Separated, 6 and 7 --- Not with partner)\n-   ***Npersons:*** Refers to the number of persons in the household\n-   ***Nkids:*** Number of kids in the household\n-   ***education:*** Years of education\n-   ***employment:*** Indicator variable equal to one if the person is employed\n-   ***occupation:*** Individual's occupation according to the ISCO-88 occupation code (ISCO = International Classification of Occupations)\n-   ***industry1:*** Individual's two-digit industry code based on ten categories (1 -- Agriculture, 2 -- Energy, 3 -- Mining, 4 -- Manufacturing, 5 -- Construction, 6 -- Trade, 7 -- Transport, 8 -- Bank and Insurance, 9 -- Services).\n-   ***industry2:*** Individual's NACE industry code\n-   ***state:*** German state of residence\n-   ***region:*** German region of residence\n-   ***income:*** Household post-government income (after taxes and government transfers for all persons in the household)\n-   ***GrossIncome:*** Household pre-government income\n-   ***head:*** Individual's relationship to household head (1 -- Head, 2 -- Partner, 3 -- Child, 4 -- Relative, 5 -- Non Relative)\n:::\n",
    "supporting": [
      "02_data_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
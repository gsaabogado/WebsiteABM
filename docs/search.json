[
  {
    "objectID": "01_about.html",
    "href": "01_about.html",
    "title": "About",
    "section": "",
    "text": "The website contains four primary sections to accompany the study:\n\nSOEP Data – Includes a description of all the data files of the German Socio-economic Panel Study (SOEP). It is divided into five subsections\n\n\n\nHousehold Characteristics\nTechnology Adoption\nWealth\nGallup Measures of Environmental Attitudes\n\n\n\nDescriptives SOEP – contains descriptive statistics on the SOEP Data\n\n\n\nHousehold Characteristics\nTechnology Adoption\n\n\n\nTheoretical Model – includes the mathematical description and assumptions of the model\nMathematical model – presents and discusses the python environment where we implement ABM-ren.\n\n\n\n\n\n\n\nNote\n\n\n\nConsider that all sections contain the R-code necessary to replicate the website’s figures, tables, and overall results. Regarding the construction of the data sets, we share the link to the dropbox repository alongside instructions to load the raw data files and transform them into the panel data we use for the optimization and the empirical section."
  },
  {
    "objectID": "01_about.html#raw-data-files",
    "href": "01_about.html#raw-data-files",
    "title": "About",
    "section": "Raw data files",
    "text": "Raw data files\nAs previously mentioned, the folder 01_RawData contains all the raw files. It is divided into N different repositories\n\n\n01_schools includes all files related to school absences and school characteristics in New York City\n02_AQI has the data on the air quality index forecast from the NYSDEC and the AQI measures from the EPA\n03_weather contains several data files of weather covariates\n04_shp is a repository of shape (or spatial) files\n05_dem includes data on neighbourhood-level socio-demographic characteristics from the US Census Buro"
  },
  {
    "objectID": "02_SoepData.html",
    "href": "02_SoepData.html",
    "title": "German Socio-Economic Panel Study (SOEP)",
    "section": "",
    "text": "Most of the data we use to feed our model comes from the German Socio-Economic Panel Study (SOEP). The SOEP is a representative longitudinal panel study that started in West Germany in 1984. The current version of the survey contains a large set of socio-demographic and economic characteristics of German households.\nThe SOEP is divided into different data files each containing different questionnaires – in this model, we use data from SOEP-37.\nThe main questionnaires we use for the construction of the model are:\n\n\nPEQUIV - Personal Equivalent File \\(\\rightarrow\\) (Documentation)\nHGEN - Household Generated Data File \\(\\rightarrow\\) (Documentation)\nHWEALTH - Household Wealth Questionaire\nHCONSUM - Household Consumption Module\n\n\n\n\n\n\n\nAll of our variables are loded in one of two R formats; numeric or haven-labeled. Haven labeled format is similar to STATA (or SPSS) labeled data (For more information we refer the reader to the online vignete of the haven package).\nThe R-labeled class (part of the haven package) allows us to associate arbitrary labels to numeric or character vectors. Note that the goal of labeled files is only to include the description of categorical vectors in the SOEP data. For instance, when printing one labeled variable, the output consists of a vector of values alongside a data frame linking values and labels. It is essential to clarify that researchers must transform haven-labeled data formats into numeric or factor variables before using them in econometric, machine learning, or optimization models. Still, we keep the haven-labeled format in the raw files as it allows researchers to directly understand the values related to each numeric identifier of categorical variables in the SOEP data.\nAs an example, we show the gender column in the pequiv file. The variable contains a title identifier Gender of Individual alongside a vector of numeric values (i.e., 2,1,2,1,1,2), and the data frame linking values to labels.\n\n\nShow the Code\n# Show the data set\nhead(pequiv$sex)\n\n\n<labelled<double>[6]>: Gender of Individual\n[1] 2 1 2 1 1 2\n\nLabels:\n value                                                 label\n    -6 [-6] Fragebogenversion mit geaenderter Filterfuehrung\n    -5             [-5] In Fragebogenversion nicht enthalten\n    -4                     [-4] Unzulaessige Mehrfachantwort\n    -3                                     [-3] nicht valide\n    -2                                  [-2] trifft nicht zu\n    -1                                     [-1] keine Angabe\n     1                                            [1] Male 1\n     2                                          [2] Female 2\n\n\nTable 1 shows a sample of individual-level characteristics we extract from the PEQUIV file. It consists of 19 variables and 547704 observations between 2005 and 2018. Each variable is either in a numeric or haven-labeled format. The data frame contains the individual and household IDs (pid and hid) alongside the year of the interview (year). head is an indicator variable on the relationship between pid and the household head (1 = head, 2 = partner, 3 = child, 4 = relative, and 5 = non-relative). age is the average age of pid, sex its gender (1 - Male; 2- Female), and education the total years of education.\n\nIndividualSpatialEmploymentHousehold\n\n\n\n\nShow the Code\n# Show the data set\nkbl(select(pequiv, pid, hid, year, head, sex, age, education) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n\n\n\n\nTable 1:  Individual characteristics from the PEQUIV file \n \n  \n    pid \n    hid \n    year \n    head \n    sex \n    age \n    education \n  \n \n\n  \n    201 \n    27 \n    2005 \n    1 \n    2 \n    79 \n    10.5 \n  \n  \n    203 \n    60313 \n    2005 \n    1 \n    1 \n    45 \n    18.0 \n  \n  \n    602 \n    60 \n    2005 \n    1 \n    2 \n    47 \n    18.0 \n  \n  \n    603 \n    60 \n    2005 \n    2 \n    1 \n    59 \n    -2.0 \n  \n  \n    604 \n    60 \n    2005 \n    3 \n    1 \n    15 \n    -1.0 \n  \n  \n    605 \n    60 \n    2005 \n    3 \n    2 \n    9 \n    -1.0 \n  \n\n\n\n\n\n\n\n\n\n\nShow the Code\n# Show the data set\nkbl(select(pequiv, pid, hid, year, state, region) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n\n\n\n\nTable 2:  Spatial variables from the PEQUIV file \n \n  \n    pid \n    hid \n    year \n    state \n    region \n  \n \n\n  \n    201 \n    27 \n    2005 \n    11 \n    1 \n  \n  \n    203 \n    60313 \n    2005 \n    11 \n    1 \n  \n  \n    602 \n    60 \n    2005 \n    5 \n    1 \n  \n  \n    603 \n    60 \n    2005 \n    5 \n    1 \n  \n  \n    604 \n    60 \n    2005 \n    5 \n    1 \n  \n  \n    605 \n    60 \n    2005 \n    5 \n    1 \n  \n\n\n\n\n\n\n\n\n\n\nShow the Code\n# Show the data set\nkbl(select(pequiv, pid, hid, year, employment, occupation, industry1) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n\n\n\n\nTable 3:  Employment variables from the PEQUIV file \n \n  \n    pid \n    hid \n    year \n    employment \n    occupation \n    industry1 \n  \n \n\n  \n    201 \n    27 \n    2005 \n    0 \n    0 \n    0 \n  \n  \n    203 \n    60313 \n    2005 \n    1 \n    2131 \n    9 \n  \n  \n    602 \n    60 \n    2005 \n    0 \n    2331 \n    9 \n  \n  \n    603 \n    60 \n    2005 \n    0 \n    -2 \n    -2 \n  \n  \n    604 \n    60 \n    2005 \n    -1 \n    -2 \n    -1 \n  \n  \n    605 \n    60 \n    2005 \n    -1 \n    -2 \n    -1 \n  \n\n\n\n\n\n\n\n\n\n\nShow the Code\n# Show the data set\nkbl(select(pequiv, pid, hid, year, Npersons, Nkids, income, GrossIncome) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n\n\n\n\nTable 4:  Household variables from the PEQUIV file \n \n  \n    pid \n    hid \n    year \n    Npersons \n    Nkids \n    income \n    GrossIncome \n  \n \n\n  \n    201 \n    27 \n    2005 \n    1 \n    0 \n    7648 \n    209 \n  \n  \n    203 \n    60313 \n    2005 \n    1 \n    0 \n    18800 \n    7550 \n  \n  \n    602 \n    60 \n    2005 \n    4 \n    2 \n    47146 \n    68521 \n  \n  \n    603 \n    60 \n    2005 \n    4 \n    2 \n    47146 \n    68521 \n  \n  \n    604 \n    60 \n    2005 \n    4 \n    2 \n    47146 \n    68521 \n  \n  \n    605 \n    60 \n    2005 \n    4 \n    2 \n    47146 \n    68521 \n  \n\n\n\n\n\n\n\n\n\nTable 2 includes data on the spatial location of the household. Because we are working with the open version of the SOEP, we can only identify the state and region where the household is located. Next, Table 3 contains employment-related covariates. employment is a dummy variable equal to one if the person is currently employed. occupation is the person’s occupation according to the International Classification of Occupations Code (ISCO). For instance, code 5160 refers to protective service workers. industry1 is a two-digit industry code based on ten categories (1 – Agriculture, 2 – Energy, 3 – Mining, 4 – Manufacturing, 5 – Construction, 6 – Trade, 7 – Transport, 8 – Bank and Insurance, 9 – Services). Finally, Table 4 includes a set of household-level controls we extract from the PEQUIV file. Npersons and Nkids are the number of persons and kids in the household, while income and GrossIncome are the household net and gross incomes.\n\n\n\n\n\n\nTable 5 shows a sample of household-level identifiers we extract from the HGEN file. The full data-frame contains 34 variables and 213,595 observations across 40,852 spanning between 2005 and 2018. hid and year are analogous to the pequiv file. Owner is an indicator variable based on four categories (1 – Owner, 2 – Main Tenant, 3 – Sub-Tenant, 4 – Tenant, 5 – Living in a home). FreeRent is a dummy variable equal to one if the family does not pay rent. YearMoved refers to the year the family moved to the household. And HouseSize Is the size of the dwelling in square meters.\n\nHousehold IndentifiersHousehold InfrastructureHousehold EnergyHousehold Costs\n\n\n\n\nShow the Code\nkbl(select(hgen, hid, year, owner, FreeRent, YearMoved, HouseSize) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n\n\n\n\nTable 5:  Household identifiers HGEN file \n \n  \n    hid \n    year \n    owner \n    FreeRent \n    YearMoved \n    HouseSize \n  \n \n\n  \n    27 \n    2005 \n    2 \n    -2 \n    1994 \n    43 \n  \n  \n    60 \n    2005 \n    1 \n    -2 \n    1994 \n    130 \n  \n  \n    94 \n    2005 \n    2 \n    -2 \n    2002 \n    48 \n  \n  \n    124 \n    2005 \n    2 \n    -2 \n    2002 \n    36 \n  \n  \n    159 \n    2005 \n    2 \n    1 \n    1990 \n    120 \n  \n  \n    167 \n    2005 \n    2 \n    -2 \n    2000 \n    83 \n  \n\n\n\n\n\n\n\n\n\n\nShow the Code\nkbl(select(hgen, hid, year, basement, garden, elevator, balcony) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n\n\n\n\nTable 6:  Household identifiers HGEN file \n \n  \n    hid \n    year \n    basement \n    garden \n    elevator \n    balcony \n  \n \n\n  \n    27 \n    2005 \n    1 \n    2 \n    -8 \n    2 \n  \n  \n    60 \n    2005 \n    1 \n    1 \n    -8 \n    1 \n  \n  \n    94 \n    2005 \n    1 \n    2 \n    -8 \n    1 \n  \n  \n    124 \n    2005 \n    2 \n    2 \n    -8 \n    1 \n  \n  \n    159 \n    2005 \n    2 \n    2 \n    -8 \n    2 \n  \n  \n    167 \n    2005 \n    1 \n    2 \n    -8 \n    1 \n  \n\n\n\n\n\n\n\n\n\n\nShow the Code\nkbl(select(hgen, hid, year, CentralFloorHeating, ThermalInsulation, DoubleGlazing, AlternativeEnergy, pv, boiler) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n\n\n\n\nTable 7:  Household energy efficiency investments \n \n  \n    hid \n    year \n    CentralFloorHeating \n    ThermalInsulation \n    DoubleGlazing \n    AlternativeEnergy \n    pv \n    boiler \n  \n \n\n  \n    27 \n    2005 \n    1 \n    -8 \n    -8 \n    -8 \n    -8 \n    1 \n  \n  \n    60 \n    2005 \n    1 \n    -8 \n    -8 \n    -8 \n    -8 \n    1 \n  \n  \n    94 \n    2005 \n    1 \n    -8 \n    -8 \n    -8 \n    -8 \n    1 \n  \n  \n    124 \n    2005 \n    1 \n    -8 \n    -8 \n    -8 \n    -8 \n    1 \n  \n  \n    159 \n    2005 \n    1 \n    -8 \n    -8 \n    -8 \n    -8 \n    1 \n  \n  \n    167 \n    2005 \n    1 \n    -8 \n    -8 \n    -8 \n    -8 \n    1 \n  \n\n\n\n\n\n\n\n\n\n\nShow the Code\nkbl(select(hgen, hid, year, PowerCosts, OtherUtilityCosts, GasCosts, WarmWaterCosts) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n\n\n\n\nTable 8:  Household energy costs \n \n  \n    hid \n    year \n    PowerCosts \n    OtherUtilityCosts \n    GasCosts \n    WarmWaterCosts \n  \n \n\n  \n    27 \n    2005 \n    -8 \n    20 \n    -5 \n    30 \n  \n  \n    60 \n    2005 \n    -8 \n    -2 \n    -5 \n    -2 \n  \n  \n    94 \n    2005 \n    -8 \n    77 \n    -5 \n    49 \n  \n  \n    124 \n    2005 \n    -8 \n    42 \n    -5 \n    40 \n  \n  \n    159 \n    2005 \n    -8 \n    -1 \n    -5 \n    -1 \n  \n  \n    167 \n    2005 \n    -8 \n    137 \n    -5 \n    5 \n  \n\n\n\n\n\n\n\n\n\nTable 6 contains different infrastructure characteristics of the dwelling. All variables are indicator dummies of basement, garden, elevator, or balcony infrastructure. As with the pequiv file, all negative entries refer to missing values for different reasons, e.g., the question was not part of that year’s questionnaire or invalid answers.\nTable 7 includes a set of indicator variables regarding household investments in Energy infrastructure or appliances. The indicator variables come from answers to the question What amenities does your dwelling have? Does it have - central floor heating (CentralFloorHeating - 1984-2014), floor heating (FloorHeating - since 2014), thermal insulation in the facade, roof, or basement (ThermalInsulation - Since 2015), air conditioner (ac - Since 2007), solar energy system (pv - Since 2007), other alternative energy sources like geothermal or heat pump (AlternativeEnergy - Since 2009), boiler (boiler - 1991-2013), or windows with at least double glazing (DoubleGlazing - Since 2015).\nTable 8 includes a set of numeric variables on the household’s energy costs. WarmWaterCost contains the heating costs of tenants. The number comes from answers to the question What were the heating costs, including hot water, in the last calendar year?. Until 2013 (wave BD), the SOEP only surveyed heating costs for tenants. After 2013, it asked all SOEP individuals. In 2015 (wave BF), respondents stated their costs for different energy sources (district heating, gas, liquefied gas, electricity, heating oil, coal, wood, biomass, solar, and geothermal) and whether they used them for heating, warm water, cooking, or electronic devices. This change decreased the WarmWaterCost variable in the BF wave vs. other years. PowerCosts is a numeric variable with the electricity costs (excluding heating when applicable) asked since 2010. The exact questionnaire question is; What were your electricity costs in the last calendar year? The SOEP only asks this question to tenants if they pay rent. However, from 2016, it asked all tenants whether they paid rent or not. GasCosts states the monthly costs of gas not used for heating in Euros. Gas costs were only collected in 2014 (wave BE). OtherUtilityCosts are answers to the question; how much did you pay in the last calendar year for water, garbage removal, street cleaning, and other additional costs not mentioned above?\n\n\n\n\n\n\nOnce we load all the household level data-sets, we merge them and construct a final panel data of SOEP individuals between 2005 and 2018. The data set contains 547,704 observations across 112,745 individuals and 40,852 households. On average, each person remains in the panel 4.9 years. The data set contains 57 different variables (each of which is defined in the glossary section).\nWhen merging the household and individual-level data. We perform different checks and create additional variables.\n\nWe change all negative values (NAs) from the raw SOEP data to R NA format.\nTransform the indicator variables with “Ja” or “Nein” structure to binary dummies.\nwe transform net and gross income (income, GrossIncole) from Euros to Thousand of Euros.\nWe impute the ownership and lodge indicators in cases with missing data if the household does not report moving.\nKeep only the industry of the household head\nAssume that if the dwelling has a garden it is a house\nAssume that if the dwelling has an elevator it is a flat\nTransform the PV data from one when bought to one if owned\nDetermine the age of the panel – PanelYear\nSimplify the lodge identifier to only “House” or “Flat”\n\n\nIndividual covariatesEmploymentDwellingDwelling Charac.Energy EfficiencyEnergy Costs\n\n\n\n\nShow the Code\nkbl(soep |> select(pid, hid, year, head, age, sex, education) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n\n\n\n\nTable 9:  Individual Covariates in the full sample \n \n  \n    YearMoved \n    pid \n    hid \n    year \n    head \n    age \n    sex \n    education \n  \n \n\n  \n    1994 \n    201 \n    27 \n    2005 \n    2 \n    79 \n    2 \n    10.5 \n  \n  \n    1994 \n    201 \n    27 \n    2006 \n    2 \n    80 \n    2 \n    10.5 \n  \n  \n    1994 \n    201 \n    27 \n    2007 \n    2 \n    81 \n    2 \n    10.5 \n  \n  \n    1994 \n    201 \n    27 \n    2008 \n    2 \n    82 \n    2 \n    10.5 \n  \n  \n    1997 \n    203 \n    60313 \n    2005 \n    1 \n    45 \n    1 \n    18.0 \n  \n  \n    1997 \n    203 \n    60313 \n    2006 \n    1 \n    46 \n    1 \n    18.0 \n  \n\n\n\n\n\n\n\n\n\n\nShow the Code\nkbl(soep |> select(pid, hid, year, employment, occupation, income, GrossIncome) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n\n\n\n\nTable 10:  Employmenr Covariates in the full sample \n \n  \n    YearMoved \n    pid \n    hid \n    year \n    employment \n    occupation \n    income \n    GrossIncome \n  \n \n\n  \n    1994 \n    201 \n    27 \n    2005 \n    0 \n    0 \n    7.648 \n    0.209 \n  \n  \n    1994 \n    201 \n    27 \n    2006 \n    0 \n    0 \n    7.723 \n    0.301 \n  \n  \n    1994 \n    201 \n    27 \n    2007 \n    0 \n    0 \n    11.488 \n    4.103 \n  \n  \n    1994 \n    201 \n    27 \n    2008 \n    0 \n    0 \n    8.019 \n    0.209 \n  \n  \n    1997 \n    203 \n    60313 \n    2005 \n    1 \n    2131 \n    18.800 \n    7.550 \n  \n  \n    1997 \n    203 \n    60313 \n    2006 \n    1 \n    2131 \n    24.796 \n    28.900 \n  \n\n\n\n\n\n\n\n\n\n\nShow the Code\nkbl(ungroup(soep) |> select(pid, hid, year, YearMoved, owner, FreeRent, lodge, NewestConstDate, OldestConstDate) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n\n\n\n\nTable 11:  Employmenr Covariates in the full sample \n \n  \n    pid \n    hid \n    year \n    YearMoved \n    owner \n    FreeRent \n    lodge \n    NewestConstDate \n    OldestConstDate \n  \n \n\n  \n    201 \n    27 \n    2005 \n    1994 \n    2 \n    NA \n    Flats \n    1980 \n    1972 \n  \n  \n    201 \n    27 \n    2006 \n    1994 \n    2 \n    NA \n    Flats \n    1980 \n    1972 \n  \n  \n    201 \n    27 \n    2007 \n    1994 \n    2 \n    NA \n    Flats \n    1980 \n    1972 \n  \n  \n    201 \n    27 \n    2008 \n    1994 \n    2 \n    NA \n    Flats \n    1980 \n    1972 \n  \n  \n    203 \n    60313 \n    2005 \n    1997 \n    1 \n    NA \n    Flats \n    1918 \n    0 \n  \n  \n    203 \n    60313 \n    2006 \n    1997 \n    1 \n    NA \n    Flats \n    1918 \n    0 \n  \n\n\n\n\n\n\n\n\n\n\nShow the Code\nkbl(ungroup(soep) |> select(pid, hid, year, HouseSize, basement, garden, elevator, balcony) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n\n\n\n\nTable 12:  Dwelling characteristics Covariates in the full sample \n \n  \n    pid \n    hid \n    year \n    HouseSize \n    basement \n    garden \n    elevator \n    balcony \n  \n \n\n  \n    201 \n    27 \n    2005 \n    43 \n    1 \n    0 \n    -8 \n    0 \n  \n  \n    201 \n    27 \n    2006 \n    43 \n    1 \n    0 \n    -8 \n    0 \n  \n  \n    201 \n    27 \n    2007 \n    43 \n    0 \n    0 \n    -8 \n    1 \n  \n  \n    201 \n    27 \n    2008 \n    43 \n    1 \n    0 \n    -8 \n    1 \n  \n  \n    203 \n    60313 \n    2005 \n    67 \n    1 \n    0 \n    -8 \n    1 \n  \n  \n    203 \n    60313 \n    2006 \n    67 \n    1 \n    0 \n    -8 \n    1 \n  \n\n\n\n\n\n\n\n\n\n\nShow the Code\nkbl(ungroup(soep) |> select(pid, hid, year, ac, FloorHeating, CentralFloorHeating, ThermalInsulation, AlternativeEnergy, pv, boiler) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n\n\n\n\nTable 13:  Energy Efficiency Technologies \n \n  \n    pid \n    hid \n    year \n    ac \n    FloorHeating \n    CentralFloorHeating \n    ThermalInsulation \n    AlternativeEnergy \n    pv \n    boiler \n  \n \n\n  \n    201 \n    27 \n    2005 \n    NA \n    -8 \n    1 \n    -8 \n    -8 \n    0 \n    1 \n  \n  \n    201 \n    27 \n    2006 \n    NA \n    -8 \n    1 \n    -8 \n    -8 \n    0 \n    1 \n  \n  \n    201 \n    27 \n    2007 \n    0 \n    -8 \n    1 \n    -8 \n    -8 \n    0 \n    1 \n  \n  \n    201 \n    27 \n    2008 \n    0 \n    -8 \n    1 \n    -8 \n    -8 \n    0 \n    1 \n  \n  \n    203 \n    60313 \n    2005 \n    NA \n    -8 \n    1 \n    -8 \n    -8 \n    0 \n    1 \n  \n  \n    203 \n    60313 \n    2006 \n    NA \n    -8 \n    1 \n    -8 \n    -8 \n    0 \n    1 \n  \n\n\n\n\n\n\n\n\n\n\nShow the Code\nkbl(ungroup(soep) |> select(pid, hid, year, PowerCosts, OtherUtilityCosts, GasCosts, WarmWaterCosts) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n\n\n\n\nTable 14:  Energy Efficiency Technologies \n \n  \n    pid \n    hid \n    year \n    PowerCosts \n    OtherUtilityCosts \n    GasCosts \n    WarmWaterCosts \n  \n \n\n  \n    201 \n    27 \n    2005 \n    NA \n    20 \n    NA \n    30 \n  \n  \n    201 \n    27 \n    2006 \n    NA \n    20 \n    NA \n    33 \n  \n  \n    201 \n    27 \n    2007 \n    NA \n    25 \n    NA \n    30 \n  \n  \n    201 \n    27 \n    2008 \n    NA \n    20 \n    NA \n    30 \n  \n  \n    203 \n    60313 \n    2005 \n    NA \n    80 \n    NA \n    20 \n  \n  \n    203 \n    60313 \n    2006 \n    NA \n    75 \n    NA \n    20 \n  \n\n\n\n\n\n\n\n\n\n\n\n\nNext, we use the information on income and power cost from the sub-set of renters to look at the relationship between annual power costs and income. For this, we divide the data set into ten different income groups based on the deciles of the income distribution and estimate the average and standard deviation of income and power costs in each decile. Table 15 contains a sample of the final data. IncomeGroup refers to the income decile. IncAvg is the average yearly income in thousands of Euros. PowerCostAvg is the average yearly power bill in Euros. IncSD is the standard deviation of annual income. And PowerCostSd the analogous for power costs. Figure 1 contains the density (Log) function of annual Power Costs across different income deciles. As expected, the density is normally distributed with higher mean values for more wealthy households.\n\nData SetDescriptives\n\n\n\n\nShow the Code\n# Load Data\nfile = gsub(\"WebsiteABM\", \"\", getwd())\ndata = read_rds(paste0(file, \"02_GenData/03_SoepFiles/IncomePowerDeciles.rds\"))\n# Show the table\nkbl(ungroup(data) %>% head(.)) %>% \n  kable_classic(full_width = T, html_font = \"Cambria\") %>% \n  kable_styling(bootstrap_option = c(\"hover\"))\n\n\n\n\nTable 15:  Energy Efficiency Technologies \n \n  \n    IncomeGroup \n    IncAvg \n    PowerCostAvg \n    IncSd \n    PowerCostSd \n  \n \n\n  \n    [ 0.0, 13.6) \n    10.13827 \n    636.0916 \n    2.187315 \n    330.0873 \n  \n  \n    [13.6, 20.4) \n    17.11669 \n    736.8999 \n    1.953851 \n    365.6021 \n  \n  \n    [20.4, 25.8) \n    23.17710 \n    822.1222 \n    1.546291 \n    443.9794 \n  \n  \n    [25.8, 30.9) \n    28.23839 \n    887.2933 \n    1.447322 \n    568.0897 \n  \n  \n    [30.9, 36.1) \n    33.42765 \n    920.2857 \n    1.523214 \n    449.2557 \n  \n  \n    [36.1, 42.0) \n    38.92149 \n    926.9687 \n    1.666120 \n    437.2922 \n  \n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Density function of Power Costs across Income Deciles\n\n\n\n\n\n\n\n\n\n\npid: This variable provides unique identification for each individual ever surveyed in the SOEP.\nhid: This variable links individuals to the households they were living in at the time of the interview. The SOEP provides yearly household identification numbers.\nsample: This variable indicates from which sub sample an individual in the SOEP is drawn. The variable contain the following levels\nage: Indicates the age of the individual\nsex: Indicates the gender of the individual (1 – Male and 2 – Female)\nMaritalStatus: Indicates the marital status of the individual (1 – Married, 2 – Single, 3 – Widowed, 4 – Divorced, 5 – Separated, 6 and 7 — Not with partner)\nNpersons: Refers to the number of persons in the household\nNkids: Number of kids in the household\neducation: Years of education\nemployment: Indicator variable equal to one if the person is employed\noccupation: Individual’s occupation according to the ISCO-88 occupation code (ISCO = International Classification of Occupations)\nindustry1: Individual’s two-digit industry code based on ten categories (1 – Agriculture, 2 – Energy, 3 – Mining, 4 – Manufacturing, 5 – Construction, 6 – Trade, 7 – Transport, 8 – Bank and Insurance, 9 – Services).\nindustry2: Individual’s NACE industry code\nstate: German state of residence\nregion: German region of residence\nincome: Household post-government income (after taxes and government transfers for all persons in the household)\nGrossIncome: Household pre-government income\nhead: Individual’s relationship to household head (1 – Head, 2 – Partner, 3 – Child, 4 – Relative, 5 – Non Relative)"
  },
  {
    "objectID": "03_theory.html",
    "href": "03_theory.html",
    "title": "Theoretical Background ABM-REN",
    "section": "",
    "text": "\\[\nU_{ht}^{pv = 1} | F_{ht} = E_i[\\sum_{t = 1}^{T} \\beta \\Pi_ht | Z_{ht}] + \\alpha \\lambda_{ht} + \\phi Env_{ht} + \\epsilon_{ht}\n\\tag{1}\\]\nIn it, the utility from the PV (\\(U_{ih}^{pv = 1}\\)) once feasible (\\(F_{ht} = 1\\)) is a function of the household \\(h\\) expectation of future profits (\\(\\Pi_{ht}\\)) associated with purchasing a PV installation at \\(t\\), i.e., \\(E_i[\\sum_{t = 1}^{T} \\beta p_it | Z_{it}]\\). Throughout the presentation, the expectation operator takes the household’s subjective distribution of profits given observable available information at \\(t\\), \\(Z_{it}\\). Now, the Feasibility operator (\\(F_{ht}\\)) is an indicator variable determining if it is possible for household \\(h\\) to install the PV system in the current dwelling. For instance, for households with short-term flat rents in the city center, it would likely be unfeasible to install a PV system.\nThe household’s utility also depends on social and environmental components. The social element \\(\\lambda_{ht}\\) is a continuous variable between zero and one, indicating the share of close-by neighbors with a PV installation. The network estimate incorporates evidence from the literature on behavioral economics and technology adoption regarding peers’ influence on peoples’ probability of adopting new technologies. The environmental component (\\(Env_{ht}\\)) captures the utility of investing in green technologies for persons with strong environmdsental preferences. For instance, even if the utility from elicited profits and network effects is negative, a share of the population would adopt green technologies because of environmental preferences.\nEach household elicits the profits from owning a PV (\\(p_{ht}\\)) by solving Equation 2. in it, \\(\\Delta_{ht}\\) is the expected energy the PV installation would generate for household \\(h\\) at time \\(t\\). This expectation depends positively on each individuals’ coefficient of risk aversion (\\(\\phi_i\\)), i.e., \\(\\frac{\\partial \\Delta_{it}}{\\partial \\phi_i} \\leq 0\\). Besides risk aversion, the coefficient also depends on individual characteristics \\((Z_{it})\\) like past consumption, age, income, and family size.\n\\[\n\\Pi_{ht} = \\sum_{t=1}^{T} \\big[E(\\Delta_{ht}|\\phi_h, Z_{ht}) E(p_{ht}, Z_{ht}|\\phi_i) - K_t - I_{ht}|Z_{ht} \\big]\n\\tag{2}\\]\n\\(p_{ht}\\) represents household \\(h\\) expected grid-price of electricity. As with the expectation of energy production, the price depends on individual characteristics \\((Z_{it})\\) and the risk aversion parameter \\(\\phi_i\\) with \\(\\frac{\\partial p_{it}}{\\partial \\phi_i} \\leq 0\\). Next, \\(K_t\\) are the capital costs of the PV system at \\(t\\) and \\(I_{ht}\\) all costs related to bank loans in cases where the household is capital constrained. As with elicited future energy expenditures and prices, \\(I_{ht}\\) depends on observable household characteristics (\\(Z_{it}\\)), e.g., banks provide lower interest rates to wealthy individuals with steady jobs.\nAn individual only applies for a bank loan when their liquidity at \\(t\\) is lower than the costs associated with the installation of the PV system, i.e., \\(Loan_{it} = max(0, K_t - \\mu_{it})\\). Now, if the loan required to obtain a PV (\\(Loan_{it}\\)) is larger than the income of the household times a bank threshold multiplier (\\(y_{it} \\times \\sigma\\)), the loan is too risky for the banking institution, and even though household \\(h\\) elicits a positive utility from PV, it would not purchase the system because of capital constraints. When the banking institution provides the loan necessary to purchase the PV system, the cost of the loan is equal to \\(I_{it} = r + \\rho \\frac{Loan_{it}}{y_{it}}\\).\nThe liquidity of each household (\\(\\mu_{ht}\\)) evolves according to equation Equation 3.\n\\[\n\\mu_{it} =(1 - \\alpha_i^1) y_i + (1 - \\alpha_i^2)\\mu_{it-1} − (CE_i - PV_i  R^{PV})P_t - I_{it} Loan_{it} - \\gamma  Loan_i\n\\tag{3}\\]"
  }
]